/* RTL Support with CSS Logical Properties */

/* Use logical properties for consistent layout in both LTR and RTL */
:root {
  --dir: ltr;
}

:root[dir="rtl"] {
  --dir: rtl;
}

/* Override default Tailwind utilities with logical properties */
[dir="rtl"] {
  direction: rtl;
}

/* Sidebar positioning */
[dir="rtl"] .sidebar {
  right: 0;
  left: auto;
}

/* Icon flipping for directional icons */
[dir="rtl"] .flip-icon {
  transform: scaleX(-1);
}

/* Common directional icons that should flip */
[dir="rtl"] [data-icon="chevron-left"],
[dir="rtl"] [data-icon="chevron-right"],
[dir="rtl"] [data-icon="arrow-left"],
[dir="rtl"] [data-icon="arrow-right"],
[dir="rtl"] [data-icon="arrow-up-right"],
[dir="rtl"] [data-icon="arrow-down-right"],
[dir="rtl"] [data-icon="arrow-up-left"],
[dir="rtl"] [data-icon="arrow-down-left"] {
  transform: scaleX(-1);
}

/* Logical margin utilities */
.ms-auto { margin-inline-start: auto; }
.me-auto { margin-inline-end: auto; }
.ms-1 { margin-inline-start: 0.25rem; }
.ms-2 { margin-inline-start: 0.5rem; }
.ms-3 { margin-inline-start: 0.75rem; }
.ms-4 { margin-inline-start: 1rem; }
.me-1 { margin-inline-end: 0.25rem; }
.me-2 { margin-inline-end: 0.5rem; }
.me-3 { margin-inline-end: 0.75rem; }
.me-4 { margin-inline-end: 1rem; }

/* Logical padding utilities */
.ps-1 { padding-inline-start: 0.25rem; }
.ps-2 { padding-inline-start: 0.5rem; }
.ps-3 { padding-inline-start: 0.75rem; }
.ps-4 { padding-inline-start: 1rem; }
.pe-1 { padding-inline-end: 0.25rem; }
.pe-2 { padding-inline-end: 0.5rem; }
.pe-3 { padding-inline-end: 0.75rem; }
.pe-4 { padding-inline-end: 1rem; }

/* Text alignment */
[dir="rtl"] .text-left { text-align: right; }
[dir="rtl"] .text-right { text-align: left; }
.text-start { text-align: start; }
.text-end { text-align: end; }

/* Border radius logical */
.rounded-s { border-start-start-radius: 0.25rem; border-end-start-radius: 0.25rem; }
.rounded-e { border-start-end-radius: 0.25rem; border-end-end-radius: 0.25rem; }
.rounded-ss { border-start-start-radius: 0.25rem; }
.rounded-se { border-start-end-radius: 0.25rem; }
.rounded-es { border-end-start-radius: 0.25rem; }
.rounded-ee { border-end-end-radius: 0.25rem; }

/* Flexbox logical */
.flex-row-reverse-rtl {
  flex-direction: row;
}
[dir="rtl"] .flex-row-reverse-rtl {
  flex-direction: row-reverse;
}

/* Grid logical */
[dir="rtl"] .grid {
  direction: rtl;
}

/* Form elements */
[dir="rtl"] input[type="text"],
[dir="rtl"] input[type="email"],
[dir="rtl"] input[type="password"],
[dir="rtl"] input[type="number"],
[dir="rtl"] textarea,
[dir="rtl"] select {
  text-align: right;
  direction: rtl;
}

/* Number inputs should always be LTR */
[dir="rtl"] input[type="number"] {
  direction: ltr;
  text-align: right;
}

/* Tables */
[dir="rtl"] table {
  direction: rtl;
}

[dir="rtl"] th,
[dir="rtl"] td {
  text-align: right;
}

/* Numeric table cells should be left-aligned in RTL */
[dir="rtl"] .numeric-cell,
[dir="rtl"] td[data-type="number"],
[dir="rtl"] td[data-type="currency"] {
  text-align: left;
  direction: ltr;
}

/* Dropdown menus */
[dir="rtl"] [role="menu"],
[dir="rtl"] .dropdown-menu {
  right: auto;
  left: 0;
}

/* Tooltips */
[dir="rtl"] [role="tooltip"] {
  text-align: right;
}

/* Progress bars */
[dir="rtl"] .progress-bar {
  transform: scaleX(-1);
}
[dir="rtl"] .progress-value {
  transform: scaleX(-1);
}

/* Breadcrumbs separator */
[dir="rtl"] .breadcrumb-separator {
  transform: scaleX(-1);
}

/* Dialog close button */
[dir="rtl"] [data-dialog-close] {
  right: auto;
  left: 0.5rem;
}

/* Pagination */
[dir="rtl"] .pagination {
  direction: rtl;
}

/* Badge positioning */
[dir="rtl"] .badge-top-right {
  right: auto;
  left: 0;
}

[dir="rtl"] .badge-top-left {
  left: auto;
  right: 0;
}

/* Notification positioning */
[dir="rtl"] .notification-top-right {
  right: auto;
  left: 1rem;
}

/* Card layouts */
[dir="rtl"] .card-icon-left {
  margin-right: 0.5rem;
  margin-left: 0;
}

[dir="rtl"] .card-icon-right {
  margin-left: 0.5rem;
  margin-right: 0;
}

/* Arabic typography adjustments */
[lang="ar"],
[dir="rtl"] {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI Arabic', 'Arial Unicode MS', 'Tahoma', sans-serif;
  letter-spacing: 0;
  line-height: 1.8;
}

[lang="ar"] h1,
[lang="ar"] h2,
[lang="ar"] h3,
[lang="ar"] h4,
[lang="ar"] h5,
[lang="ar"] h6 {
  font-weight: 600;
  line-height: 1.6;
}