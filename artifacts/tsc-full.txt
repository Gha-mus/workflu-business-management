server/core/storage.ts(6658,56): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { shipmentId: string | SQL<unknown> | Placeholder<string, any>; timestamp?: Date | SQL<unknown> | Placeholder<string, any> | undefined; status?: SQL<...> | ... 7 more ... | undefined; ... 7 more ...; exceptionDetails?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'string' is not assignable to type 'SQL<unknown> | "pending" | "in_transit" | "delivered" | "failed" | "out_for_delivery" | "returned" | Placeholder<string, any> | undefined'.
  Overload 2 of 2, '(values: { shipmentId: string | SQL<unknown> | Placeholder<string, any>; timestamp?: Date | SQL<unknown> | Placeholder<string, any> | undefined; status?: SQL<...> | ... 7 more ... | undefined; ... 7 more ...; exceptionDetails?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'shipmentId' does not exist in type '{ shipmentId: string | SQL<unknown> | Placeholder<string, any>; timestamp?: Date | SQL<unknown> | Placeholder<string, any> | undefined; status?: SQL<...> | ... 7 more ... | undefined; ... 7 more ...; exceptionDetails?: string | ... 3 more ... | undefined; }[]'.
server/core/storage.ts(6765,69): error TS2345: Argument of type 'SQL<unknown> | undefined' is not assignable to parameter of type '{ startDate?: string | undefined; endDate?: string | undefined; } | undefined'.
  Type 'SQL<unknown>' has no properties in common with type '{ startDate?: string | undefined; endDate?: string | undefined; }'.
server/core/storage.ts(7161,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<...> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ batchNumber: string; supplierId: string; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; totalQuantityKg: string; notes: string; createdBy: string; }' is not assignable to parameter of type '{ supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<unknown> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }'.
      Type '{ batchNumber: string; supplierId: string; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; totalQuantityKg: string; notes: string; createdBy: string; }' is missing the following properties from type '{ supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<unknown> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }': orderId, purchaseId, remainingQuantityKg
  Overload 2 of 2, '(values: { supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<...> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'batchNumber' does not exist in type '{ supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<unknown> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }[]'.
server/core/storage.ts(7473,11): error TS2322: Type 'string' is not assignable to type 'number | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | null | undefined'.
server/core/storage.ts(7481,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { fifoSequence: number | SQL<unknown> | Placeholder<string, any>; warehouseStockId: string | SQL<unknown> | Placeholder<string, any>; consumptionType: string | ... 1 more ... | Placeholder<...>; ... 12 more ...; consumedAt?: Date | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'createdBy' does not exist in type '{ fifoSequence: number | SQL<unknown> | Placeholder<string, any>; warehouseStockId: string | SQL<unknown> | Placeholder<string, any>; consumptionType: string | ... 1 more ... | Placeholder<...>; ... 12 more ...; consumedAt?: Date | ... 2 more ... | undefined; }'.
  Overload 2 of 2, '(values: { fifoSequence: number | SQL<unknown> | Placeholder<string, any>; warehouseStockId: string | SQL<unknown> | Placeholder<string, any>; consumptionType: string | ... 1 more ... | Placeholder<...>; ... 12 more ...; consumedAt?: Date | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'warehouseStockId' does not exist in type '{ fifoSequence: number | SQL<unknown> | Placeholder<string, any>; warehouseStockId: string | SQL<unknown> | Placeholder<string, any>; consumptionType: string | ... 1 more ... | Placeholder<...>; ... 12 more ...; consumedAt?: Date | ... 2 more ... | undefined; }[]'.
server/core/storage.ts(7574,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "processing_operations"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "completed" | "in_progress" | "planned"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "planned"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "cancelled" | "completed" | "in_progress" | "planned"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "processing_operations"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "completed" | "in_progress" | "planned"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "processing_operations"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "completed" | "in_progress" | "planned"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "processing_operations"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "completed" | "in_progress" | "planned"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(7630,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "in_transit" | "completed"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "completed"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "pending" | "cancelled" | "in_transit" | "completed"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "in_transit" | "completed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "in_transit" | "completed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "in_transit" | "completed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(7665,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "inventory_adjustments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "approved" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "escalated"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "pending" | "approved" | "rejected" | "cancelled" | "escalated"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "inventory_adjustments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "approved" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "inventory_adjustments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "approved" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "inventory_adjustments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "approved" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(7702,9): error TS2353: Object literal may only specify known properties, and 'rejectedAt' does not exist in type '{ reason?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; createdBy?: string | SQL<...> | PgColumn<...> | undefined; ... 17 more ...; adjustmentDate?: Date | ... 2 more ... | undefined; }'.
server/core/storage.ts(7874,11): error TS2322: Type 'string' is not assignable to type 'SQL<unknown> | "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | null | undefined'.
server/core/storage.ts(8045,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; ... 9 more ...; generated: undefined; }, {}, {}>, right: "export" | ... 5 more ... | "processor"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"export" | SQLWrapper | "retail" | "wholesale" | "domestic" | "distributor" | "processor"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(8116,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; ... 9 more ...; generated: undefined; }, {}, {}>, right: "export" | ... 5 more ... | "processor"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"export" | SQLWrapper | "retail" | "wholesale" | "domestic" | "distributor" | "processor"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(8138,7): error TS2353: Object literal may only specify known properties, and 'totalOrdersCount' does not exist in type 'Partial<{ name: string; currency?: string | undefined; email?: string | null | undefined; isActive?: boolean | undefined; category?: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor" | undefined; ... 22 more ...; tags?: string[] | ... 1 more ... | undefined; }>'.
server/core/storage.ts(8155,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 6 more ... | "fulfilled"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(8169,7): error TS2740: Type 'Omit<PgSelectBase<"sales_orders", { id: PgColumn<{ name: "id"; tableName: "sales_orders"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 34 more ...; updatedAt: PgColumn<....' is missing the following properties from type 'PgSelectBase<"sales_orders", { id: PgColumn<{ name: "id"; tableName: "sales_orders"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 34 more ...; updatedAt: PgColumn<...>; ...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(8205,19): error TS2345: Argument of type '{ warehouse: string; status: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | "READY_TO_SHIP" | "NON_CLEAN" | "READY_FOR_SALE" | "AWAITING_FILTER"; ... 22 more ...; gradedAt: Date | null; } | undefined' is not assignable to parameter of type 'SQL<unknown> | PgTable<TableConfig> | Subquery<string, Record<string, unknown>> | PgViewBase<string, boolean, ColumnsSelection>'.
  Type 'undefined' is not assignable to type 'SQL<unknown> | PgTable<TableConfig> | Subquery<string, Record<string, unknown>> | PgViewBase<string, boolean, ColumnsSelection>'.
server/core/storage.ts(8206,23): error TS18048: 'warehouseStock' is possibly 'undefined'.
server/core/storage.ts(8206,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: Column<ColumnBaseConfig<ColumnDataType, string>, object, object>, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'Column<ColumnBaseConfig<ColumnDataType, string>, object, object>'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'Aliased<string>'.
  Overload 3 of 3, '(left: SQLWrapper, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper'.
server/core/storage.ts(8207,11): error TS2322: Type '{} | { [x: string]: never; } | { [x: string]: unknown; } | { [x: string]: never; }' is not assignable to type '{ warehouse: string; status: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | "READY_TO_SHIP" | "NON_CLEAN" | "READY_FOR_SALE" | "AWAITING_FILTER"; ... 22 more ...; gradedAt: Date | null; } | undefined'.
  Type '{}' is missing the following properties from type '{ warehouse: string; status: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | "READY_TO_SHIP" | "NON_CLEAN" | "READY_FOR_SALE" | "AWAITING_FILTER"; ... 22 more ...; gradedAt: Date | null; }': warehouse, status, id, createdAt, and 21 more.
server/core/storage.ts(8223,47): error TS2551: Property 'totalAmount' does not exist on type '{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | null | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }'. Did you mean 'taxAmount'?
server/core/storage.ts(8239,8): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { totalAmount: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<unknown> | Placeholder<string, any>; salesOrderNumber: string | ... 1 more ... | Placeholder<...>; ... 32 more ...; internalNotes?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ salesOrderNumber: string; status: "draft"; customerId: string; currency?: string | undefined; createdBy?: string | null | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | ... 6 more ... | undefined; ... 17 more ...; internalNotes?: string | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ totalAmount: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<unknown> | Placeholder<string, any>; salesOrderNumber: string | SQL<...> | Placeholder<...>; ... 32 more ...; internalNotes?: string | ... 3 more ... | undefined; }'.
      Type '{ salesOrderNumber: string; status: "draft"; customerId: string; currency?: string | undefined; createdBy?: string | null | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | ... 6 more ... | undefined; ... 17 more ...; internalNotes?: string | ... 1 more ... | undefined; }' is missing the following properties from type '{ totalAmount: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<unknown> | Placeholder<string, any>; salesOrderNumber: string | SQL<...> | Placeholder<...>; ... 32 more ...; internalNotes?: string | ... 3 more ... | undefined; }': totalAmount, totalAmountUsd, balanceDue
  Overload 2 of 2, '(values: { totalAmount: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<unknown> | Placeholder<string, any>; salesOrderNumber: string | ... 1 more ... | Placeholder<...>; ... 32 more ...; internalNotes?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'salesOrderNumber' does not exist in type '{ totalAmount: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<unknown> | Placeholder<string, any>; salesOrderNumber: string | SQL<...> | Placeholder<...>; ... 32 more ...; internalNotes?: string | ... 3 more ... | undefined; }[]'.
server/core/storage.ts(8280,47): error TS2551: Property 'totalAmount' does not exist on type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'. Did you mean 'taxAmount'?
server/core/storage.ts(8281,38): error TS2339: Property 'isSignificantSalesOrderChange' does not exist on type 'DatabaseStorage'.
server/core/storage.ts(8350,7): error TS2353: Object literal may only specify known properties, and 'confirmedAt' does not exist in type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'.
server/core/storage.ts(8381,91): error TS2551: Property 'quantity' does not exist on type '{ id: string; salesOrderId: string; warehouseStockId: string | null; productDescription: string; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; ... 18 more ...; createdAt: Date | null; }'. Did you mean 'quantityKg'?
server/core/storage.ts(8418,7): error TS2353: Object literal may only specify known properties, and 'deliveredAt' does not exist in type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'.
server/core/storage.ts(8444,7): error TS2353: Object literal may only specify known properties, and 'cancelledAt' does not exist in type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'.
server/core/storage.ts(8465,7): error TS2353: Object literal may only specify known properties, and 'subtotalAmount' does not exist in type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'.
server/core/storage.ts(8487,15): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ quantityKg: string; salesOrderId: string; productDescription: string; unitPriceUsd: string; notes?: string | null | undefined; qualityGrade?: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null | undefined; ... 7 more ...; qualitySpecs?: Json | undefined; }' is not assignable to parameter of type '{ quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }'.
      Type '{ quantityKg: string; salesOrderId: string; productDescription: string; unitPriceUsd: string; notes?: string | null | undefined; qualityGrade?: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null | undefined; ... 7 more ...; qualitySpecs?: Json | undefined; }' is missing the following properties from type '{ quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }': lineTotal, lineTotalUsd
  Overload 2 of 2, '(values: { quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }[]): PgInsertBase<...>', gave the following error.
    Argument of type '{ quantityKg: string; salesOrderId: string; productDescription: string; unitPriceUsd: string; notes?: string | null | undefined; qualityGrade?: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null | undefined; ... 7 more ...; qualitySpecs?: Json | undefined; }' is not assignable to parameter of type '{ quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }[]'.
      Type '{ quantityKg: string; salesOrderId: string; productDescription: string; unitPriceUsd: string; notes?: string | null | undefined; qualityGrade?: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null | undefined; ... 7 more ...; qualitySpecs?: Json | undefined; }' is missing the following properties from type '{ quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }[]': length, pop, push, concat, and 29 more.
server/core/storage.ts(8535,49): error TS2551: Property 'quantity' does not exist on type '{ id: string; salesOrderId: string; warehouseStockId: string | null; productDescription: string; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; ... 18 more ...; createdAt: Date | null; }'. Did you mean 'quantityKg'?
server/core/storage.ts(8549,34): error TS2551: Property 'quantity' does not exist on type '{ id: string; salesOrderId: string; warehouseStockId: string | null; productDescription: string; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; ... 18 more ...; createdAt: Date | null; }'. Did you mean 'quantityKg'?
server/core/storage.ts(8584,39): error TS2551: Property 'unitPrice' does not exist on type '{ id: string; createdAt: Date | null; notes: string | null; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; warehouseStockId: string | null; ... 18 more ...; qualitySpecs: unknown; }'. Did you mean 'unitPriceUsd'?
server/core/storage.ts(8603,38): error TS2551: Property 'quantity' does not exist on type '{ id: string; createdAt: Date | null; notes: string | null; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; warehouseStockId: string | null; ... 18 more ...; qualitySpecs: unknown; }'. Did you mean 'quantityKg'?
server/core/storage.ts(8607,34): error TS2339: Property 'unitCost' does not exist on type '{ id: string; createdAt: Date | null; notes: string | null; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; warehouseStockId: string | null; ... 18 more ...; qualitySpecs: unknown; }'.
server/core/storage.ts(8628,7): error TS2740: Type 'Omit<PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(8631,7): error TS2740: Type 'Omit<PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(8631,27): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "sales_returns"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "approved" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "escalated"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "pending" | "approved" | "rejected" | "cancelled" | "escalated"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "sales_returns"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "approved" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "sales_returns"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "approved" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "sales_returns"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "approved" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(8634,7): error TS2740: Type 'Omit<PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(8637,7): error TS2740: Type 'Omit<PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(8762,11): error TS2322: Type '"processed"' is not assignable to type 'SQL<unknown> | "pending" | "approved" | "rejected" | "cancelled" | "escalated" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/core/storage.ts(8912,49): error TS2339: Property 'userId' does not exist on type 'PgTableWithColumns<{ name: "customer_communications"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "customer_communications"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 15 more ...; createdAt: PgCo...'.
server/core/storage.ts(8924,27): error TS1360: Type '"completed"' does not satisfy the expected type '"pending" | "sent" | "failed" | "read" | "dismissed"'.
server/core/storage.ts(8925,7): error TS2353: Object literal may only specify known properties, and 'completedAt' does not exist in type 'Partial<{ type: string; createdBy: string; customerId: string; content: string; direction: string; status?: "pending" | "completed" | "follow_up_required" | null | undefined; contactPerson?: string | null | undefined; ... 7 more ...; relatedDocuments?: string[] | ... 1 more ... | undefined; }>'.
server/core/storage.ts(8943,8): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { amount: string | SQL<unknown> | Placeholder<string, any>; type: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ transactionNumber: string; amount: string; type: string; customerId: string; currency?: string | undefined; status?: "pending" | "cancelled" | "confirmed" | "reversed" | undefined; description?: string | ... 1 more ... | undefined; ... 11 more ...; cogs?: string | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
      Property 'amountUsd' is missing in type '{ transactionNumber: string; amount: string; type: string; customerId: string; currency?: string | undefined; status?: "pending" | "cancelled" | "confirmed" | "reversed" | undefined; description?: string | ... 1 more ... | undefined; ... 11 more ...; cogs?: string | ... 1 more ... | undefined; }' but required in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; type: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionNumber' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]'.
server/core/storage.ts(9033,7): error TS2322: Type '"approved"' is not assignable to type '"pending" | "cancelled" | "confirmed" | "reversed" | undefined'.
server/core/storage.ts(9059,7): error TS2353: Object literal may only specify known properties, and 'transactionDate' does not exist in type '{ amount: string; type: string; customerId: string; currency?: string | undefined; status?: "pending" | "cancelled" | "confirmed" | "reversed" | undefined; description?: string | null | undefined; ... 11 more ...; cogs?: string | ... 1 more ... | undefined; }'.
server/core/storage.ts(9187,15): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }'.
      Property 'availableCredit' is missing in type '{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }' but required in type '{ approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Argument of type '{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }[]'.
      Type '{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }' is missing the following properties from type '{ approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }[]': length, pop, push, concat, and 29 more.
server/core/storage.ts(9214,7): error TS2353: Object literal may only specify known properties, and 'isSuspended' does not exist in type 'Partial<{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }>'.
server/core/storage.ts(9225,7): error TS2353: Object literal may only specify known properties, and 'isSuspended' does not exist in type 'Partial<{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }>'.
server/core/storage.ts(9249,66): error TS2551: Property 'isSuspended' does not exist on type '{ id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; approvedBy: string; notes: string | null; paymentTerms: "credit" | "net_15" | "net_30" | "net_45" | "net_60" | "cash_on_delivery" | "advance_payment"; ... 12 more ...; suspensionReason: string | null; }'. Did you mean 'suspendedAt'?
server/core/storage.ts(9251,27): error TS2551: Property 'isSuspended' does not exist on type '{ id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; approvedBy: string; notes: string | null; paymentTerms: "credit" | "net_15" | "net_30" | "net_45" | "net_60" | "cash_on_delivery" | "advance_payment"; ... 12 more ...; suspensionReason: string | null; }'. Did you mean 'suspendedAt'?
server/core/storage.ts(9377,9): error TS2416: Property 'getCustomerProfitabilityAnalysis' in type 'DatabaseStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(customerId?: string | undefined) => Promise<{ customer: { currency: string; name: string; email: string | null; id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; ... 27 more ...; tags: string[] | null; }; ... 6 more ...; lastOrderDate: Date; }[]>' is not assignable to type '{ (periodId?: string | undefined): Promise<{ customerId: string; customerName: string; totalRevenue: number; totalCogs: number; grossMargin: number; grossMarginPercent: number; volumeKg: number; averageSellingPrice: number; profitabilityRank: number; performanceCategory: string; trend: string; }[]>; (customerId?: st...'.
    Type 'Promise<{ customer: { currency: string; name: string; email: string | null; id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; category: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; ... 26 more ...; tags: string[] | null; }; ... 6 more ...; lastOrderDate: ...' is not assignable to type 'Promise<{ customerId: string; customerName: string; totalRevenue: number; totalCogs: number; grossMargin: number; grossMarginPercent: number; volumeKg: number; averageSellingPrice: number; profitabilityRank: number; performanceCategory: string; trend: string; }[]>'.
      Type '{ customer: { currency: string; name: string; email: string | null; id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; category: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; ... 26 more ...; tags: string[] | null; }; ... 6 more ...; lastOrderDate: Date; }[]' is not assignable to type '{ customerId: string; customerName: string; totalRevenue: number; totalCogs: number; grossMargin: number; grossMarginPercent: number; volumeKg: number; averageSellingPrice: number; profitabilityRank: number; performanceCategory: string; trend: string; }[]'.
        Type '{ customer: { currency: string; name: string; email: string | null; id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; category: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; ... 26 more ...; tags: string[] | null; }; ... 6 more ...; lastOrderDate: Date; }' is missing the following properties from type '{ customerId: string; customerName: string; totalRevenue: number; totalCogs: number; grossMargin: number; grossMarginPercent: number; volumeKg: number; averageSellingPrice: number; profitabilityRank: number; performanceCategory: string; trend: string; }': customerId, customerName, totalCogs, grossMarginPercent, and 5 more.
server/core/storage.ts(9634,9): error TS2416: Property 'getCashFlowForecast' in type 'DatabaseStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(days: number) => Promise<{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netFlow: number; endingBalance: number; minBalance: number; maxBalance: number; }; }>' is not assignable to type '(days: number) => Promise<{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netCashFlow: number; runwayDays: number; liquidityRatio: number; }; risks: { ...; }[]; }>'.
    Type 'Promise<{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netFlow: number; endingBalance: number; minBalance: number; maxBalance: number; }; }>' is not assignable to type 'Promise<{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netCashFlow: number; runwayDays: number; liquidityRatio: number; }; risks: { ...; }[]; }>'.
      Property 'risks' is missing in type '{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netFlow: number; endingBalance: number; minBalance: number; maxBalance: number; }; }' but required in type '{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netCashFlow: number; runwayDays: number; liquidityRatio: number; }; risks: { ...; }[]; }'.
server/core/storage.ts(9657,54): error TS2339: Property 'totalCapitalIn' does not exist on type '{ netFlow: number; totalIn: number; totalOut: number; }'.
server/core/storage.ts(9658,55): error TS2339: Property 'totalPurchasePayments' does not exist on type '{ netFlow: number; totalIn: number; totalOut: number; }'.
server/core/storage.ts(9767,9): error TS2741: Property 'where' is missing in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"purchases", { supplierId: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "supplier_id"; tableName: "purchases"; dataType: "string"; columnType: "PgVarchar"; da...' but required in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"purchases", { supplierId: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "supplier_id"; tableName: "purchases"; dataType: "string"; columnType: "PgVarchar"; da...'.
server/core/storage.ts(9805,9): error TS2416: Property 'calculateROIAnalysis' in type 'DatabaseStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(periodId?: string | undefined) => Promise<{ overallROI: { percentage: number; absoluteReturn: number; period: string; }; roiBySupplier: { supplierId: string; supplierName: string; roi: number; investedCapital: number; returns: number; }[]; roiByQualityGrade: { ...; }[]; recommendations: { ...; }[]; }>' is not assignable to type '(periodId?: string | undefined) => Promise<{ overallROI: number; purchaseROI: number; inventoryROI: number; workingCapitalROI: number; roiBySupplier: { supplierId: string; supplierName: string; totalInvestment: number; totalReturn: number; roi: number; roiRank: number; }[]; roiByQualityGrade: { ...; }[]; }>'.
    Type 'Promise<{ overallROI: { percentage: number; absoluteReturn: number; period: string; }; roiBySupplier: { supplierId: string; supplierName: string; roi: number; investedCapital: number; returns: number; }[]; roiByQualityGrade: { ...; }[]; recommendations: { ...; }[]; }>' is not assignable to type 'Promise<{ overallROI: number; purchaseROI: number; inventoryROI: number; workingCapitalROI: number; roiBySupplier: { supplierId: string; supplierName: string; totalInvestment: number; totalReturn: number; roi: number; roiRank: number; }[]; roiByQualityGrade: { ...; }[]; }>'.
      Type '{ overallROI: { percentage: number; absoluteReturn: number; period: string; }; roiBySupplier: { supplierId: string; supplierName: string; roi: number; investedCapital: number; returns: number; }[]; roiByQualityGrade: { ...; }[]; recommendations: { ...; }[]; }' is missing the following properties from type '{ overallROI: number; purchaseROI: number; inventoryROI: number; workingCapitalROI: number; roiBySupplier: { supplierId: string; supplierName: string; totalInvestment: number; totalReturn: number; roi: number; roiRank: number; }[]; roiByQualityGrade: { ...; }[]; }': purchaseROI, inventoryROI, workingCapitalROI
server/core/storage.ts(9933,9): error TS2416: Property 'calculateBreakEvenAnalysis' in type 'DatabaseStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(periodId?: string | undefined) => Promise<{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; contributionMargin: { amount: number; percentage: number; }; fixedCosts: number; variableCostRatio: number; scenarioAnalysis: { ...; }[]; }>' is not assignable to type '(periodId?: string | undefined) => Promise<{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; marginOfSafetyPercent: number; contributionMargin: number; contributionMarginRatio: number; fixedCosts: number; variableCostRatio: number; }>'.
    Type 'Promise<{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; contributionMargin: { amount: number; percentage: number; }; fixedCosts: number; variableCostRatio: number; scenarioAnalysis: { ...; }[]; }>' is not assignable to type 'Promise<{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; marginOfSafetyPercent: number; contributionMargin: number; contributionMarginRatio: number; fixedCosts: number; variableCostRatio: number; }>'.
      Type '{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; contributionMargin: { amount: number; percentage: number; }; fixedCosts: number; variableCostRatio: number; scenarioAnalysis: { ...; }[]; }' is missing the following properties from type '{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; marginOfSafetyPercent: number; contributionMargin: number; contributionMarginRatio: number; fixedCosts: number; variableCostRatio: number; }': marginOfSafetyPercent, contributionMarginRatio
server/core/storage.ts(10214,13): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "alert_type"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 7 more ... | "workflow_alert"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "alert_type"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 9 more ...; generated: undefined; }...' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "alert_type"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 9 more ...; generated: undefined; }...' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "alert_type"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 9 more ...; generated: undefined; }...' is not assignable to parameter of type 'never'.
server/core/storage.ts(10215,13): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "alert_category"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "purchase_order" | "capital_threshold" | "inventory_level" | ... 12 more ... | "currency_fluctuation"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 15 more ... | "currency_fluctuation"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "purchase_order" | "capital_threshold" | "inventory_level" | "sales_order" | "document_expiry" | "approval_workflow" | "financial_health" | "operational_delay" | ... 7 more ... | "currency_fluctuation"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "alert_category"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "purchase_order" | "capital_threshold" | "inventory_level" | ... 12 more ... | "currency_fluctuation"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "alert_category"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "purchase_order" | "capital_threshold" | "inventory_level" | ... 12 more ... | "currency_fluctuation"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "alert_category"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "purchase_order" | "capital_threshold" | "inventory_level" | ... 12 more ... | "currency_fluctuation"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(10216,13): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "channel"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "in_app" | "email" | "sms" | "webhook"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "webhook"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "in_app" | "email" | "sms" | "webhook"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "channel"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "in_app" | "email" | "sms" | "webhook"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "channel"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "in_app" | "email" | "sms" | "webhook"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "channel"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "in_app" | "email" | "sms" | "webhook"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(10346,9): error TS2740: Type 'Omit<PgSelectBase<"notification_queue", { id: PgColumn<{ name: "id"; tableName: "notification_queue"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"notification_queue", { id: PgColumn<{ name: "id"; tableName: "notification_queue"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; updatedAt: PgColumn<...>; }, ... 5...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(10490,14): error TS2345: Argument of type '{ updatedAt: Date; status: "pending" | "sent" | "failed" | "read" | "dismissed"; id: string; readAt?: string | undefined; dismissedAt?: string | undefined; errorMessage?: string | undefined; }' is not assignable to parameter of type '{ userId?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; message?: string | SQL<unknown> | PgColumn<...> | undefined; ... 32 more ...; deduplicationKey?: string | ... 3 more ... | undefined; }'.
  Types of property 'readAt' are incompatible.
    Type 'string | undefined' is not assignable to type 'Date | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | null | undefined'.
      Type 'string' is not assignable to type 'Date | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | null | undefined'.
server/core/storage.ts(10592,32): error TS2339: Property 'rowsAffected' does not exist on type 'QueryResult<never>'.
server/core/storage.ts(10613,32): error TS2339: Property 'rowsAffected' does not exist on type 'QueryResult<never>'.
server/core/storage.ts(10789,11): error TS2554: Expected 5-9 arguments, but got 10.
server/core/storage.ts(10826,11): error TS2554: Expected 5-9 arguments, but got 10.
server/core/storage.ts(10858,11): error TS2554: Expected 5-9 arguments, but got 10.
server/core/storage.ts(10882,9): error TS2740: Type 'Omit<PgSelectBase<"notification_history", { id: PgColumn<{ name: "id"; tableName: "notification_history"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; createdAt: PgColumn<...>;...' is missing the following properties from type 'PgSelectBase<"notification_history", { id: PgColumn<{ name: "id"; tableName: "notification_history"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; createdAt: PgColumn<...>; }, ....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(10951,33): error TS2339: Property 'rowsAffected' does not exist on type 'QueryResult<never>'.
server/core/storage.ts(11087,32): error TS2339: Property 'rowsAffected' does not exist on type 'QueryResult<never>'.
server/core/storage.ts(11126,27): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"reverse" | "customer_receipt" | "customer_refund" | "withdrawal" | "reinvest_out" | "transfer_fee" | "reclass"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
      Type '"reverse"' is not assignable to type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<"reverse" | "customer_receipt" | "customer_refund" | "withdrawal" | "reinvest_out" | "transfer_fee" | "reclass">, right: "reverse" | SQLWrapper | ... 5 more ... | "reclass"): SQL<...>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<"reverse" | "customer_receipt" | "customer_refund" | "withdrawal" | "reinvest_out" | "transfer_fee" | "reclass">'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<"reverse" | "customer_receipt" | "customer_refund" | "withdrawal" | "reinvest_out" | "transfer_fee" | "reclass">': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11164,9): error TS2740: Type 'Omit<PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColu...' is missing the following properties from type 'PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColumn<.....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11167,7): error TS2740: Type 'Omit<PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColu...' is missing the following properties from type 'PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColumn<.....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11170,9): error TS2740: Type 'Omit<PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColu...' is missing the following properties from type 'PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColumn<.....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11173,9): error TS2740: Type 'Omit<PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColu...' is missing the following properties from type 'PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColumn<.....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11212,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'string | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
      Type 'undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'revEntryId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]'.
server/core/storage.ts(11232,9): error TS2554: Expected 5-9 arguments, but got 10.
server/core/storage.ts(11236,73): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/core/storage.ts(11248,9): error TS2322: Type '"customer_receipt"' is not assignable to type '"revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
server/core/storage.ts(11260,9): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/core/storage.ts(11274,9): error TS2322: Type '"customer_refund"' is not assignable to type '"revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
server/core/storage.ts(11308,27): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "reversed"): SQL<...>', gave the following error.
    Argument of type '"pending" | "cancelled" | "completed"' is not assignable to parameter of type 'SQLWrapper | "pending" | "cancelled" | "confirmed" | "reversed"'.
      Type '"completed"' is not assignable to type 'SQLWrapper | "pending" | "cancelled" | "confirmed" | "reversed"'.
  Overload 2 of 3, '(left: Aliased<"pending" | "cancelled" | "completed">, right: SQLWrapper | "pending" | "cancelled" | "completed"): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<"pending" | "cancelled" | "completed">'.
      Type 'PgColumn<{ name: "status"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<"pending" | "cancelled" | "completed">': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11334,9): error TS2740: Type 'Omit<PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ... 5...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11337,7): error TS2740: Type 'Omit<PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ... 5...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11340,9): error TS2740: Type 'Omit<PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ... 5...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11343,9): error TS2740: Type 'Omit<PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ... 5...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11388,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 16 more ...; note?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'string | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
      Type 'undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 16 more ...; note?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'withdrawalId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 16 more ...; note?: string | ... 3 more ... | undefined; }[]'.
server/core/storage.ts(11398,11): error TS2322: Type '"withdrawal"' is not assignable to type '"revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
server/core/storage.ts(11405,11): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/core/storage.ts(11410,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'string | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
      Type 'undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'revEntryId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]'.
server/core/storage.ts(11428,11): error TS2554: Expected 5-9 arguments, but got 10.
server/core/storage.ts(11447,11): error TS2322: Type '"approved" | "cancelled"' is not assignable to type 'SQL<unknown> | "pending" | "cancelled" | "confirmed" | "reversed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
  Type '"approved"' is not assignable to type 'SQL<unknown> | "pending" | "cancelled" | "confirmed" | "reversed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/core/storage.ts(11468,9): error TS2554: Expected 5-9 arguments, but got 10.
server/core/storage.ts(11488,27): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "reinvestments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "reversed"): SQL<...>', gave the following error.
    Argument of type '"pending" | "cancelled" | "completed"' is not assignable to parameter of type 'SQLWrapper | "pending" | "cancelled" | "confirmed" | "reversed"'.
      Type '"completed"' is not assignable to type 'SQLWrapper | "pending" | "cancelled" | "confirmed" | "reversed"'.
  Overload 2 of 3, '(left: Aliased<"pending" | "cancelled" | "completed">, right: SQLWrapper | "pending" | "cancelled" | "completed"): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "reinvestments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<"pending" | "cancelled" | "completed">'.
      Type 'PgColumn<{ name: "status"; tableName: "reinvestments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<"pending" | "cancelled" | "completed">': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "reinvestments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11517,9): error TS2740: Type 'Omit<PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11520,7): error TS2740: Type 'Omit<PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11523,9): error TS2740: Type 'Omit<PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11526,9): error TS2740: Type 'Omit<PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11573,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; reinvestId: string | SQL<unknown> | Placeholder<...>; ... 20 more ...; operatingExpenseId?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'string | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
      Type 'undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; reinvestId: string | SQL<unknown> | Placeholder<...>; ... 20 more ...; operatingExpenseId?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'reinvestId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; reinvestId: string | SQL<unknown> | Placeholder<...>; ... 20 more ...; operatingExpenseId?: string | ... 3 more ... | undefined; }[]'.
server/core/storage.ts(11598,13): error TS2353: Object literal may only specify known properties, and 'paymentDate' does not exist in type '{ amount: string; description: string; fundingSource: string; paymentMethod: string; categoryId: string; currency?: string | undefined; isApproved?: boolean | undefined; approvedBy?: string | null | undefined; ... 8 more ...; allocationToOrders?: Json | undefined; }'.
server/core/storage.ts(11623,13): error TS2769: No overload matches this call.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'revEntryId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]'.
server/core/storage.ts(11640,15): error TS2769: No overload matches this call.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'revEntryId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]'.
server/core/storage.ts(11664,11): error TS2554: Expected 5-9 arguments, but got 10.
server/core/storage.ts(11683,11): error TS2322: Type '"approved" | "cancelled"' is not assignable to type 'SQL<unknown> | "pending" | "cancelled" | "confirmed" | "reversed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
  Type '"approved"' is not assignable to type 'SQL<unknown> | "pending" | "cancelled" | "confirmed" | "reversed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/core/storage.ts(11704,9): error TS2554: Expected 5-9 arguments, but got 10.
server/core/storage.ts(11739,11): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_receipt"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11740,11): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_refund"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11744,23): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"revenue_ledger", { total: SQL<string>; }, "partial", Record<"revenue_ledger", "not-null">, false, "where", { total: string; }[], { total: DrizzleTypeError<"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`">; }>, "where">'.
server/core/storage.ts(11746,13): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_receipt"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11747,13): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_refund"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11772,33): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_receipt"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11780,33): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_refund"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11788,33): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"withdrawal"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11796,33): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"reinvest_out"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11804,33): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"transfer_fee"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(11867,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11871,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(11904,7): error TS2739: Type '{ metadata: { id: string; createdAt: Date | null; updatedAt: Date | null; createdBy: string | null; documentId: string; metadataKey: string; metadataValue: string | null; metadataType: string; isRequired: boolean; isSearchable: boolean; }[]; ... 43 more ...; archivedAt: Date | null; }' is missing the following properties from type 'DocumentWithMetadata': canEdit, canDelete, canDownload
server/core/storage.ts(11954,33): error TS2353: Object literal may only specify known properties, and 'updatedAt' does not exist in type '{ category?: SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | "invoice" | "contract" | "compliance_record" | ... 11 more ... | undefined; ... 41 more ...; archivedAt?: Date | ... 3 more ... | undefined; }'.
server/core/storage.ts(12030,25): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "rejected" | "draft" | "pending_review"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "pending_review"): SQL<...>', gave the following error.
    Argument of type '"approved" | "rejected" | "cancelled" | "draft" | "expired" | "final" | "under_review" | "archived"' is not assignable to parameter of type 'SQLWrapper | "approved" | "rejected" | "draft" | "pending_review"'.
      Type '"cancelled"' is not assignable to type 'SQLWrapper | "approved" | "rejected" | "draft" | "pending_review"'.
  Overload 2 of 3, '(left: Aliased<"approved" | "rejected" | "cancelled" | "draft" | "expired" | "final" | "under_review" | "archived">, right: SQLWrapper | "approved" | "rejected" | ... 5 more ... | "archived"): SQL<...>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "rejected" | "draft" | "pending_review"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<"approved" | "rejected" | "cancelled" | "draft" | "expired" | "final" | "under_review" | "archived">'.
      Type 'PgColumn<{ name: "status"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "rejected" | "draft" | "pending_review"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<"approved" | "rejected" | "cancelled" | "draft" | "expired" | "final" | "under_review" | "archived">': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "rejected" | "draft" | "pending_review"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(12034,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(12049,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(12053,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(12059,9): error TS2322: Type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "regulation_document"; ... 37 more ...; archivedAt: Date | null; }[]' is not assignable to type 'DocumentWithMetadata[]'.
  Type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "regulation_document"; ... 37 more ...; archivedAt: Date | null; }' is missing the following properties from type 'DocumentWithMetadata': canEdit, canDelete, canDownload
server/core/storage.ts(12072,9): error TS2353: Object literal may only specify known properties, and 'hasMore' does not exist in type 'DocumentSearchResponse'.
server/core/storage.ts(12082,16): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "regulation_document"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 13 more ... | "regulation_document"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | ... 4 more ... | "regulation_document"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "regulation_document"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "regulation_document"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "regulation_document"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(12085,32): error TS2741: Property 'limit' is missing in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"documents", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; drive...' but required in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"documents", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; drive...'.
server/core/storage.ts(12086,33): error TS2741: Property 'offset' is missing in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"documents", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; drive...' but required in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"documents", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; drive...'.
server/core/storage.ts(12101,24): error TS2339: Property 'entityType' does not exist on type 'PgTableWithColumns<{ name: "documents"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt...'.
server/core/storage.ts(12102,24): error TS2339: Property 'entityId' does not exist on type 'PgTableWithColumns<{ name: "documents"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt...'.
server/core/storage.ts(12164,9): error TS2322: Type '{ status: "approved" | "rejected" | "draft" | "pending_review"; id: string; createdAt: Date | null; description: string | null; category: "invoice" | "contract" | "compliance_record" | ... 10 more ... | "regulation_document"; ... 37 more ...; archivedAt: Date | null; } | undefined' is not assignable to type '{ status: "approved" | "rejected" | "draft" | "pending_review"; id: string; createdAt: Date | null; description: string | null; category: "invoice" | "contract" | "compliance_record" | ... 10 more ... | "regulation_document"; ... 37 more ...; archivedAt: Date | null; }'.
  Type 'undefined' is not assignable to type '{ status: "approved" | "rejected" | "draft" | "pending_review"; id: string; createdAt: Date | null; description: string | null; category: "invoice" | "contract" | "compliance_record" | ... 10 more ... | "regulation_document"; ... 37 more ...; archivedAt: Date | null; }'.
server/core/storage.ts(12169,59): error TS2339: Property 'updatedAt' does not exist on type '{ status: "approved" | "rejected" | "draft" | "pending_review"; id: string; createdAt: Date | null; description: string | null; category: "invoice" | "contract" | "compliance_record" | ... 10 more ... | "regulation_document"; ... 37 more ...; archivedAt: Date | null; }'.
server/core/storage.ts(12221,11): error TS2353: Object literal may only specify known properties, and 'status' does not exist in type '{ version?: number | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; createdBy?: string | SQL<...> | PgColumn<...> | undefined; ... 19 more ...; supersededAt?: Date | ... 3 more ... | undefined; }'.
server/core/storage.ts(12259,59): error TS2345: Argument of type '{ documentId: string; version: number; changeDescription: string; changeReason: string; changeType: string; fileName: string; filePath: string; fileSize: number; checksum: string; createdBy: string; }' is not assignable to parameter of type '{ version: number; createdBy: string; fileName: string; filePath: string; contentType: string; fileSize: number; checksum: string; documentId: string; id?: string | undefined; createdAt?: Date | null | undefined; ... 11 more ...; supersededAt?: Date | ... 1 more ... | undefined; }'.
  Property 'contentType' is missing in type '{ documentId: string; version: number; changeDescription: string; changeReason: string; changeType: string; fileName: string; filePath: string; fileSize: number; checksum: string; createdBy: string; }' but required in type '{ version: number; createdBy: string; fileName: string; filePath: string; contentType: string; fileSize: number; checksum: string; documentId: string; id?: string | undefined; createdAt?: Date | null | undefined; ... 11 more ...; supersededAt?: Date | ... 1 more ... | undefined; }'.
server/core/storage.ts(12438,31): error TS2339: Property 'key' does not exist on type 'PgTableWithColumns<{ name: "document_metadata"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "document_metadata"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 8 more ...; updatedAt: PgColumn<...>; };...'.
server/core/storage.ts(12439,31): error TS2339: Property 'value' does not exist on type 'PgTableWithColumns<{ name: "document_metadata"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "document_metadata"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 8 more ...; updatedAt: PgColumn<...>; };...'.
server/core/storage.ts(12568,46): error TS2551: Property 'complianceType' does not exist on type 'PgTableWithColumns<{ name: "document_compliance"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "document_compliance"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; updatedAt: PgColumn<......'. Did you mean 'complianceDate'?
server/core/storage.ts(12571,47): error TS2339: Property 'renewalRequired' does not exist on type 'PgTableWithColumns<{ name: "document_compliance"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "document_compliance"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; updatedAt: PgColumn<......'.
server/core/storage.ts(12590,7): error TS2322: Type '{ id: string; documentId: string; documentTitle: string; alertType: string; alertCategory: string; priority: "critical" | "low" | "medium" | "high"; title: string; message: string; complianceType: any; ... 7 more ...; updatedAt: Date; }[]' is not assignable to type 'ComplianceAlert[]'.
  Property 'requirementName' is missing in type '{ id: string; documentId: string; documentTitle: string; alertType: string; alertCategory: string; priority: "critical" | "low" | "medium" | "high"; title: string; message: string; complianceType: any; ... 7 more ...; updatedAt: Date; }' but required in type 'ComplianceAlert'.
server/core/storage.ts(12623,46): error TS2551: Property 'complianceType' does not exist on type 'PgTableWithColumns<{ name: "document_compliance"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "document_compliance"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; updatedAt: PgColumn<......'. Did you mean 'complianceDate'?
server/core/storage.ts(12626,47): error TS2339: Property 'renewalRequired' does not exist on type 'PgTableWithColumns<{ name: "document_compliance"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "document_compliance"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; updatedAt: PgColumn<......'.
server/core/storage.ts(12637,7): error TS2322: Type '{ id: string; documentId: string; documentTitle: string; alertType: string; alertCategory: string; priority: "critical"; title: string; message: string; complianceType: any; expiryDate: Date | null; ... 6 more ...; updatedAt: Date; }[]' is not assignable to type 'ComplianceAlert[]'.
  Property 'requirementName' is missing in type '{ id: string; documentId: string; documentTitle: string; alertType: string; alertCategory: string; priority: "critical"; title: string; message: string; complianceType: any; expiryDate: Date | null; ... 6 more ...; updatedAt: Date; }' but required in type 'ComplianceAlert'.
server/core/storage.ts(12667,16): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 5 more ... | "renewal_required"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(12685,11): error TS2322: Type 'string' is not assignable to type 'SQL<unknown> | "pending_review" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined'.
server/core/storage.ts(12722,16): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 5 more ... | "renewal_required"): SQL<...>', gave the following error.
    Argument of type '"active"' is not assignable to parameter of type 'SQLWrapper | "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(12751,11): error TS2353: Object literal may only specify known properties, and 'active' does not exist in type '{ total: number; compliant: number; nonCompliant: number; expiringSoon: number; expired: number; pendingReview: number; }'.
server/core/storage.ts(12761,64): error TS2339: Property 'renewalRequired' does not exist on type 'ComplianceAlert'.
server/core/storage.ts(12798,43): error TS2339: Property 'renewalRequired' does not exist on type 'ComplianceAlert'.
server/core/storage.ts(12852,20): error TS2339: Property 'complianceType' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'.
server/core/storage.ts(12853,47): error TS2551: Property 'complianceType' does not exist on type 'PgTableWithColumns<{ name: "document_compliance"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "document_compliance"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; updatedAt: PgColumn<......'. Did you mean 'complianceDate'?
server/core/storage.ts(12853,71): error TS2339: Property 'complianceType' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'.
server/core/storage.ts(12856,20): error TS2551: Property 'expiryDateFrom' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'. Did you mean 'expiryFrom'?
server/core/storage.ts(12857,77): error TS2551: Property 'expiryDateFrom' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'. Did you mean 'expiryFrom'?
server/core/storage.ts(12860,20): error TS2551: Property 'expiryDateTo' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'. Did you mean 'expiryTo'?
server/core/storage.ts(12861,77): error TS2551: Property 'expiryDateTo' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'. Did you mean 'expiryTo'?
server/core/storage.ts(12865,9): error TS2740: Type 'Omit<PgSelectBase<"document_compliance", { id: PgColumn<{ name: "id"; tableName: "document_compliance"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; updatedAt: PgColumn<...>; }...' is missing the following properties from type 'PgSelectBase<"document_compliance", { id: PgColumn<{ name: "id"; tableName: "document_compliance"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; updatedAt: PgColumn<...>; }, ......': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(12872,40): error TS2367: This comparison appears to be unintentional because the types '"pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"' and '"active"' have no overlap.
server/core/storage.ts(12939,23): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"document_access_logs", { id: PgColumn<{ name: "id"; tableName: "document_access_logs"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 16 more ...; sessionDuration: PgColumn...'.
server/core/storage.ts(12995,23): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"document_access_logs", { documentId: PgColumn<{ name: "document_id"; tableName: "document_access_logs"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, { ...; }>; ... 5 more ...; firstAccess: SQL<...>; }, ....'.
server/core/storage.ts(13034,7): error TS2322: Type '{ documentId: string; documentTitle: string; userId: string | null; userName: string; accessPattern: string; riskLevel: "critical" | "low" | "medium" | "high"; details: string; }[]' is not assignable to type '{ documentId: string; documentTitle: string; userId: string; userName: string; accessPattern: string; riskLevel: "critical" | "low" | "medium" | "high"; details: string; }[]'.
  Type '{ documentId: string; documentTitle: string; userId: string | null; userName: string; accessPattern: string; riskLevel: "critical" | "low" | "medium" | "high"; details: string; }' is not assignable to type '{ documentId: string; documentTitle: string; userId: string; userName: string; accessPattern: string; riskLevel: "critical" | "low" | "medium" | "high"; details: string; }'.
    Types of property 'userId' are incompatible.
      Type 'string | null' is not assignable to type 'string'.
        Type 'null' is not assignable to type 'string'.
server/core/storage.ts(13118,11): error TS2353: Object literal may only specify known properties, and 'status' does not exist in type '{ documentId?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; workflowType?: string | SQL<...> | PgColumn<...> | undefined; ... 16 more ...; nextStateId?: string | ... 3 more ... | undefined; }'.
server/core/storage.ts(13150,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/core/storage.ts(13196,9): error TS2353: Object literal may only specify known properties, and 'summary' does not exist in type 'DocumentAnalytics'.
server/core/storage.ts(13281,48): error TS18047: 'doc.createdAt' is possibly 'null'.
server/core/storage.ts(13286,18): error TS2339: Property 'updatedAt' does not exist on type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "regulation_document"; ... 37 more ...; archivedAt: Date | null; }'.
server/core/storage.ts(13287,53): error TS2339: Property 'updatedAt' does not exist on type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "regulation_document"; ... 37 more ...; archivedAt: Date | null; }'.
server/core/storage.ts(13346,9): error TS2322: Type '{ userId: string | null; userName: string; activityCount: number; }[]' is not assignable to type '{ userId: string; userName: string; activityCount: number; }[]'.
  Type '{ userId: string | null; userName: string; activityCount: number; }' is not assignable to type '{ userId: string; userName: string; activityCount: number; }'.
    Types of property 'userId' are incompatible.
      Type 'string | null' is not assignable to type 'string'.
        Type 'null' is not assignable to type 'string'.
server/core/storage.ts(13397,7): error TS2322: Type '{ documentId: string; documentTitle: string; action: string; userName: string; userRole: string; timestamp: Date; details: string | null; }[]' is not assignable to type '{ documentId: string; documentTitle: string; action: string; userName: string; userRole: string; timestamp: Date; details?: string | undefined; }[]'.
  Type '{ documentId: string; documentTitle: string; action: string; userName: string; userRole: string; timestamp: Date; details: string | null; }' is not assignable to type '{ documentId: string; documentTitle: string; action: string; userName: string; userRole: string; timestamp: Date; details?: string | undefined; }'.
    Types of property 'details' are incompatible.
      Type 'string | null' is not assignable to type 'string | undefined'.
        Type 'null' is not assignable to type 'string | undefined'.
server/core/storage.ts(13587,36): error TS2345: Argument of type '{ metadata: { id: string; createdAt: Date | null; updatedAt: Date | null; createdBy: string | null; documentId: string; metadataKey: string; metadataValue: string | null; metadataType: string; isRequired: boolean; isSearchable: boolean; }[]; ... 43 more ...; archivedAt: Date | null; } | { ...; }' is not assignable to parameter of type 'DocumentWithMetadata'.
  Type '{ metadata: { id: string; createdAt: Date | null; updatedAt: Date | null; createdBy: string | null; documentId: string; metadataKey: string; metadataValue: string | null; metadataType: string; isRequired: boolean; isSearchable: boolean; }[]; ... 43 more ...; archivedAt: Date | null; }' is missing the following properties from type 'DocumentWithMetadata': canEdit, canDelete, canDownload
server/core/storage.ts(13681,60): error TS2322: Type 'string' is not assignable to type '"approved" | "rejected" | "draft" | "pending_review" | undefined'.
server/core/storage.ts(13711,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { category: SQL<unknown> | "other" | "wages" | "rent" | "utilities" | "supplies" | "transfer_fees" | Placeholder<string, any>; categoryName: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; allocationMethod?: string | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ categoryName: string; description: string; isActive: true; }' is not assignable to parameter of type '{ category: SQL<unknown> | "other" | "wages" | "rent" | "utilities" | "supplies" | "transfer_fees" | Placeholder<string, any>; categoryName: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; allocationMethod?: string | ... 2 more ... | undefined; }'.
      Property 'category' is missing in type '{ categoryName: string; description: string; isActive: true; }' but required in type '{ category: SQL<unknown> | "other" | "wages" | "rent" | "utilities" | "supplies" | "transfer_fees" | Placeholder<string, any>; categoryName: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; allocationMethod?: string | ... 2 more ... | undefined; }'.
  Overload 2 of 2, '(values: { category: SQL<unknown> | "other" | "wages" | "rent" | "utilities" | "supplies" | "transfer_fees" | Placeholder<string, any>; categoryName: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; allocationMethod?: string | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'categoryName' does not exist in type '{ category: SQL<unknown> | "other" | "wages" | "rent" | "utilities" | "supplies" | "transfer_fees" | Placeholder<string, any>; categoryName: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; allocationMethod?: string | ... 2 more ... | undefined; }[]'.
server/core/storage.ts(13794,9): error TS2741: Property 'where' is missing in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"financial_periods", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "financial_periods"; dataType: "string"; columnType: "PgVarchar"; dat...' but required in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"financial_periods", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "financial_periods"; dataType: "string"; columnType: "PgVarchar"; dat...'.
server/core/storage.ts(13794,29): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "financial_periods"; dataType: "string"; columnType: "PgEnumColumn"; data: "open" | "pending_close" | "closed" | "locked"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "locked"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "open" | "pending_close" | "closed" | "locked"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "financial_periods"; dataType: "string"; columnType: "PgEnumColumn"; data: "open" | "pending_close" | "closed" | "locked"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "financial_periods"; dataType: "string"; columnType: "PgEnumColumn"; data: "open" | "pending_close" | "closed" | "locked"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "financial_periods"; dataType: "string"; columnType: "PgEnumColumn"; data: "open" | "pending_close" | "closed" | "locked"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(13819,16): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "financial_periods"; dataType: "string"; columnType: "PgEnumColumn"; data: "open" | "pending_close" | "closed" | "locked"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "locked"): SQL<...>', gave the following error.
    Argument of type '"current"' is not assignable to parameter of type 'SQLWrapper | "open" | "pending_close" | "closed" | "locked"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "financial_periods"; dataType: "string"; columnType: "PgEnumColumn"; data: "open" | "pending_close" | "closed" | "locked"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "financial_periods"; dataType: "string"; columnType: "PgEnumColumn"; data: "open" | "pending_close" | "closed" | "locked"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "financial_periods"; dataType: "string"; columnType: "PgEnumColumn"; data: "open" | "pending_close" | "closed" | "locked"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/core/storage.ts(13861,11): error TS2353: Object literal may only specify known properties, and 'exchangeRates' does not exist in type '{ periodType?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; startDate?: Date | SQL<...> | PgColumn<...> | undefined; ... 8 more ...; exchangeRateSnapshot?: unknown; }'.
server/core/storage.ts(13878,11): error TS2322: Type '"current"' is not assignable to type 'SQL<unknown> | "open" | "pending_close" | "closed" | "locked" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/core/storage.ts(13895,84): error TS2339: Property 'createdAt' does not exist on type 'PgTableWithColumns<{ name: "financial_metrics"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "financial_metrics"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; calculatedBy: PgColumn<...>...'.
server/core/storage.ts(13898,9): error TS2741: Property 'where' is missing in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"financial_metrics", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "financial_metrics"; dataType: "string"; columnType: "PgVarchar"; dat...' but required in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"financial_metrics", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "financial_metrics"; dataType: "string"; columnType: "PgVarchar"; dat...'.
server/core/storage.ts(13924,40): error TS2339: Property 'createdAt' does not exist on type 'PgTableWithColumns<{ name: "financial_metrics"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "financial_metrics"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; calculatedBy: PgColumn<...>...'.
server/core/storage.ts(13951,65): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { periodId: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<string, any> | undefined; calculatedBy?: string | SQL<...> | Placeholder<...> | null | undefined; ... 26 more ...; exchangeRateImpact?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ periodId: string; totalRevenue: number; totalCosts: number; grossProfit: number; operatingExpenses: number; operatingProfit: number; netProfit: number; totalAssets: number; totalLiabilities: number; calculatedBy: string; calculatedAt: Date; }' is not assignable to parameter of type '{ periodId: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<string, any> | undefined; calculatedBy?: string | SQL<...> | Placeholder<...> | null | undefined; ... 26 more ...; exchangeRateImpact?: string | ... 3 more ... | undefined; }'.
      Types of property 'operatingExpenses' are incompatible.
        Type 'number' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any> | undefined'.
  Overload 2 of 2, '(values: { periodId: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<string, any> | undefined; calculatedBy?: string | SQL<...> | Placeholder<...> | null | undefined; ... 26 more ...; exchangeRateImpact?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Argument of type '{ periodId: string; totalRevenue: number; totalCosts: number; grossProfit: number; operatingExpenses: number; operatingProfit: number; netProfit: number; totalAssets: number; totalLiabilities: number; calculatedBy: string; calculatedAt: Date; }' is not assignable to parameter of type '{ periodId: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<string, any> | undefined; calculatedBy?: string | SQL<...> | Placeholder<...> | null | undefined; ... 26 more ...; exchangeRateImpact?: string | ... 3 more ... | undefined; }[]'.
      Type '{ periodId: string; totalRevenue: number; totalCosts: number; grossProfit: number; operatingExpenses: number; operatingProfit: number; netProfit: number; totalAssets: number; totalLiabilities: number; calculatedBy: string; calculatedAt: Date; }' is missing the following properties from type '{ periodId: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<string, any> | undefined; calculatedBy?: string | SQL<...> | Placeholder<...> | null | undefined; ... 26 more ...; exchangeRateImpact?: string | ... 3 more ... | undefined; }[]': length, pop, push, concat, and 29 more.
server/core/storage.ts(13979,69): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { periodId: string | SQL<unknown> | Placeholder<string, any>; statementType: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<...> | undefined; ... 39 more ...; exchangeRatesUsed?: unknown; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ periodId: string; statementType: string; totalRevenue: number; totalCosts: number; grossProfit: number; operatingExpenses: number; operatingProfit: number; nonOperatingIncome: number; nonOperatingExpenses: number; netProfit: number; generatedBy: string; generatedAt: Date; }' is not assignable to parameter of type '{ periodId: string | SQL<unknown> | Placeholder<string, any>; statementType: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<...> | undefined; ... 39 more ...; exchangeRatesUsed?: unknown; }'.
      Types of property 'totalRevenue' are incompatible.
        Type 'number' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any> | undefined'.
  Overload 2 of 2, '(values: { periodId: string | SQL<unknown> | Placeholder<string, any>; statementType: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<...> | undefined; ... 39 more ...; exchangeRatesUsed?: unknown; }[]): PgInsertBase<...>', gave the following error.
    Argument of type '{ periodId: string; statementType: string; totalRevenue: number; totalCosts: number; grossProfit: number; operatingExpenses: number; operatingProfit: number; nonOperatingIncome: number; nonOperatingExpenses: number; netProfit: number; generatedBy: string; generatedAt: Date; }' is not assignable to parameter of type '{ periodId: string | SQL<unknown> | Placeholder<string, any>; statementType: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<...> | undefined; ... 39 more ...; exchangeRatesUsed?: unknown; }[]'.
      Type '{ periodId: string; statementType: string; totalRevenue: number; totalCosts: number; grossProfit: number; operatingExpenses: number; operatingProfit: number; nonOperatingIncome: number; nonOperatingExpenses: number; netProfit: number; generatedBy: string; generatedAt: Date; }' is missing the following properties from type '{ periodId: string | SQL<unknown> | Placeholder<string, any>; statementType: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<...> | undefined; ... 39 more ...; exchangeRatesUsed?: unknown; }[]': length, pop, push, concat, and 29 more.
server/core/storage.ts(14064,65): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { periodId: string | SQL<unknown> | Placeholder<string, any>; analysisType: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<...> | undefined; ... 30 more ...; cashFlowByCurrency?: unknown; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ periodId: string; analysisType: string; operatingCashFlow: number; investingCashFlow: number; financingCashFlow: number; netCashFlow: number; beginningCash: number; endingCash: number; forecastDays: number; generatedBy: string; generatedAt: Date; }' is not assignable to parameter of type '{ periodId: string | SQL<unknown> | Placeholder<string, any>; analysisType: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<...> | undefined; ... 30 more ...; cashFlowByCurrency?: unknown; }'.
      Types of property 'netCashFlow' are incompatible.
        Type 'number' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any> | undefined'.
  Overload 2 of 2, '(values: { periodId: string | SQL<unknown> | Placeholder<string, any>; analysisType: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<...> | undefined; ... 30 more ...; cashFlowByCurrency?: unknown; }[]): PgInsertBase<...>', gave the following error.
    Argument of type '{ periodId: string; analysisType: string; operatingCashFlow: number; investingCashFlow: number; financingCashFlow: number; netCashFlow: number; beginningCash: number; endingCash: number; forecastDays: number; generatedBy: string; generatedAt: Date; }' is not assignable to parameter of type '{ periodId: string | SQL<unknown> | Placeholder<string, any>; analysisType: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<...> | undefined; ... 30 more ...; cashFlowByCurrency?: unknown; }[]'.
      Type '{ periodId: string; analysisType: string; operatingCashFlow: number; investingCashFlow: number; financingCashFlow: number; netCashFlow: number; beginningCash: number; endingCash: number; forecastDays: number; generatedBy: string; generatedAt: Date; }' is missing the following properties from type '{ periodId: string | SQL<unknown> | Placeholder<string, any>; analysisType: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<...> | undefined; ... 30 more ...; cashFlowByCurrency?: unknown; }[]': length, pop, push, concat, and 29 more.
server/documentService.ts(239,11): error TS2322: Type '{ documentNumber: string; fileName: string; originalFileName: string; filePath: string; contentType: string; fileSize: number; checksum: string; createdBy: string; currentVersion: number; isLatestVersion: true; ... 32 more ...; archivedAt?: Date | ... 1 more ... | undefined; }' is not assignable to type '{ category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_document" | "insurance_policy" | "license" | "permit" | "regulation_document"; ... 41 more ...; archivedAt?: Date | ... 1 more ... | undefi...'.
  Types of property 'category' are incompatible.
    Type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_document" | ... 4 more ... | undefined' is not assignable to type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_document" | "insurance_policy" | "license" | "permit" | "regulation_document"'.
      Type 'undefined' is not assignable to type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_document" | "insurance_policy" | "license" | "permit" | "regulation_document"'.
server/domains/capital/repository.ts(15,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "capital_entries"; dataType: "string"; columnType: "PgEnumColumn"; data: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "Opening"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "capital_entries"; dataType: "string"; columnType: "PgEnumColumn"; data: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "capital_entries"; dataType: "string"; columnType: "PgEnumColumn"; data: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "capital_entries"; dataType: "string"; columnType: "PgEnumColumn"; data: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/domains/capital/repository.ts(50,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "capital_entries"; dataType: "string"; columnType: "PgEnumColumn"; data: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "Opening"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "capital_entries"; dataType: "string"; columnType: "PgEnumColumn"; data: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "capital_entries"; dataType: "string"; columnType: "PgEnumColumn"; data: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "capital_entries"; dataType: "string"; columnType: "PgEnumColumn"; data: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/domains/capital/repository.ts(94,17): error TS2339: Property 'number' does not exist on type '{ type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; amount: string; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/repository.ts(98,36): error TS2339: Property 'number' does not exist on type 'PgTableWithColumns<{ name: "capital_entries"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "capital_entries"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, { ...; }>; ... 11 more ...; createdAt: PgCol...'.
server/domains/capital/repository.ts(98,50): error TS2339: Property 'number' does not exist on type '{ type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; amount: string; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/repository.ts(102,57): error TS2339: Property 'number' does not exist on type '{ type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; amount: string; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/service.ts(54,16): error TS2339: Property 'number' does not exist on type '{ amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/service.ts(55,13): error TS2339: Property 'number' does not exist on type '{ amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/service.ts(75,16): error TS2339: Property 'number' does not exist on type '{ amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/service.ts(76,13): error TS2339: Property 'number' does not exist on type '{ amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/service.ts(95,9): error TS2365: Operator '<=' cannot be applied to types 'string' and 'number'.
server/domains/capital/service.ts(106,41): error TS2339: Property 'currency' does not exist on type '{ amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/service.ts(107,50): error TS2339: Property 'currency' does not exist on type '{ amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/service.ts(114,13): error TS2339: Property 'StorageApprovalGuard' does not exist on type 'typeof import("/home/runner/workspace/server/storage")'.
server/domains/capital/service.ts(133,15): error TS2339: Property 'number' does not exist on type '{ amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/service.ts(134,12): error TS2339: Property 'number' does not exist on type '{ amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/domains/capital/service.ts(142,50): error TS2339: Property 'number' does not exist on type '{ amount: string; date: Date; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; id: string; createdAt: Date | null; description: string | null; createdBy: string | null; ... 5 more ...; isValidated: boolean; }'.
server/domains/capital/service.ts(142,69): error TS2339: Property 'currency' does not exist on type '{ amount: string; date: Date; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; id: string; createdAt: Date | null; description: string | null; createdBy: string | null; ... 5 more ...; isValidated: boolean; }'.
server/domains/purchases/repository.ts(38,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "purchases"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "partial" | "paid" | "on_hold"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>, right: "pending" | ... 4 more ... | "on_hold"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"pending" | "cancelled" | SQLWrapper | "partial" | "paid" | "on_hold"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "purchases"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "partial" | "paid" | "on_hold"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "purchases"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "partial" | "paid" | "on_hold"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "purchases"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "partial" | "paid" | "on_hold"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/domains/purchases/repository.ts(105,24): error TS2339: Property 'supplierId' does not exist on type 'PgTableWithColumns<{ name: "orders"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "orders"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 6 more ...; updatedAt: PgColu...'.
server/domains/purchases/repository.ts(115,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>, right: "cancelled" | ... 6 more ... | "fulfilled"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"cancelled" | SQLWrapper | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/domains/purchases/repository.ts(140,27): error TS2339: Property 'location' does not exist on type 'PgTableWithColumns<{ name: "suppliers"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "suppliers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 12 more ...; updatedAt:...'.
server/domains/purchases/service.ts(85,34): error TS2445: Property 'runInTransaction' is protected and only accessible within class 'BaseRepository<TEntity, TInsert>' and its subclasses.
server/domains/purchases/service.ts(94,33): error TS2339: Property 'createWarehouseStockWithTransaction' does not exist on type 'WarehouseRepository'.
server/domains/purchases/service.ts(160,51): error TS2551: Property 'getWarehouseStockByPurchase' does not exist on type 'WarehouseService'. Did you mean 'getWarehouseStockByWarehouse'?
server/domains/purchases/service.ts(204,29): error TS2339: Property 'totalCost' does not exist on type '{ supplierId: string; fundingSource: "capital" | "external" | "credit_line" | "retained_earnings"; weight: string; pricePerKg: string; total: string; paymentMethod: "cash" | "advance" | "credit" | "bank_transfer" | "check"; ... 9 more ...; amountPaid?: string | undefined; }'.
server/domains/purchases/service.ts(209,18): error TS2551: Property 'totalKg' does not exist on type '{ supplierId: string; fundingSource: "capital" | "external" | "credit_line" | "retained_earnings"; weight: string; pricePerKg: string; total: string; paymentMethod: "cash" | "advance" | "credit" | "bank_transfer" | "check"; ... 9 more ...; amountPaid?: string | undefined; }'. Did you mean 'total'?
server/domains/purchases/service.ts(209,49): error TS2551: Property 'totalKg' does not exist on type '{ supplierId: string; fundingSource: "capital" | "external" | "credit_line" | "retained_earnings"; weight: string; pricePerKg: string; total: string; paymentMethod: "cash" | "advance" | "credit" | "bank_transfer" | "check"; ... 9 more ...; amountPaid?: string | undefined; }'. Did you mean 'total'?
server/domains/purchases/service.ts(249,35): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/domains/purchases/service.ts(261,51): error TS2339: Property 'totalCost' does not exist on type '{ currency: string; date: Date; status: "pending" | "cancelled" | "partial" | "paid" | "on_hold"; quality: string | null; id: string; createdAt: Date | null; updatedAt: Date | null; ... 13 more ...; remaining: string; }'.
server/domains/purchases/service.ts(267,13): error TS2339: Property 'StorageApprovalGuard' does not exist on type 'typeof import("/home/runner/workspace/server/storage")'.
server/domains/purchases/service.ts(286,79): error TS2339: Property 'totalCost' does not exist on type '{ currency: string; date: Date; status: "pending" | "cancelled" | "partial" | "paid" | "on_hold"; quality: string | null; id: string; createdAt: Date | null; updatedAt: Date | null; ... 13 more ...; remaining: string; }'.
server/domains/purchases/service.ts(341,15): error TS2339: Property 'supplierId' does not exist on type '{ orderNumber: string; currency?: string | null | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; totalValueUsd?: string | ... 1 more ... | undefined; exchangeRate?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(343,64): error TS2339: Property 'supplierId' does not exist on type '{ orderNumber: string; currency?: string | null | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; totalValueUsd?: string | ... 1 more ... | undefined; exchangeRate?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(345,51): error TS2339: Property 'supplierId' does not exist on type '{ orderNumber: string; currency?: string | null | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; totalValueUsd?: string | ... 1 more ... | undefined; exchangeRate?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(350,15): error TS2339: Property 'quantity' does not exist on type '{ orderNumber: string; currency?: string | null | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; totalValueUsd?: string | ... 1 more ... | undefined; exchangeRate?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(350,33): error TS2339: Property 'quantity' does not exist on type '{ orderNumber: string; currency?: string | null | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; totalValueUsd?: string | ... 1 more ... | undefined; exchangeRate?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(354,15): error TS2339: Property 'unitPrice' does not exist on type '{ orderNumber: string; currency?: string | null | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; totalValueUsd?: string | ... 1 more ... | undefined; exchangeRate?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(354,34): error TS2339: Property 'unitPrice' does not exist on type '{ orderNumber: string; currency?: string | null | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; totalValueUsd?: string | ... 1 more ... | undefined; exchangeRate?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(360,13): error TS2339: Property 'StorageApprovalGuard' does not exist on type 'typeof import("/home/runner/workspace/server/storage")'.
server/domains/purchases/service.ts(430,19): error TS2339: Property 'location' does not exist on type '{ name: string; isActive?: boolean | undefined; tradeName?: string | null | undefined; country?: string | null | undefined; notes?: string | null | undefined; qualityGrading?: "grade_1" | ... 6 more ... | undefined; ... 4 more ...; paymentTerms?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(430,40): error TS2339: Property 'location' does not exist on type '{ name: string; isActive?: boolean | undefined; tradeName?: string | null | undefined; country?: string | null | undefined; notes?: string | null | undefined; qualityGrading?: "grade_1" | ... 6 more ... | undefined; ... 4 more ...; paymentTerms?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(435,18): error TS2339: Property 'email' does not exist on type '{ name: string; isActive?: boolean | undefined; tradeName?: string | null | undefined; country?: string | null | undefined; notes?: string | null | undefined; qualityGrading?: "grade_1" | ... 6 more ... | undefined; ... 4 more ...; paymentTerms?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(435,55): error TS2339: Property 'email' does not exist on type '{ name: string; isActive?: boolean | undefined; tradeName?: string | null | undefined; country?: string | null | undefined; notes?: string | null | undefined; qualityGrading?: "grade_1" | ... 6 more ... | undefined; ... 4 more ...; paymentTerms?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(439,18): error TS2339: Property 'phone' does not exist on type '{ name: string; isActive?: boolean | undefined; tradeName?: string | null | undefined; country?: string | null | undefined; notes?: string | null | undefined; qualityGrading?: "grade_1" | ... 6 more ... | undefined; ... 4 more ...; paymentTerms?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(439,55): error TS2339: Property 'phone' does not exist on type '{ name: string; isActive?: boolean | undefined; tradeName?: string | null | undefined; country?: string | null | undefined; notes?: string | null | undefined; qualityGrading?: "grade_1" | ... 6 more ... | undefined; ... 4 more ...; paymentTerms?: string | ... 1 more ... | undefined; }'.
server/domains/purchases/service.ts(456,13): error TS2339: Property 'StorageApprovalGuard' does not exist on type 'typeof import("/home/runner/workspace/server/storage")'.
server/domains/sales/repository.ts(89,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>, right: "cancelled" | ... 6 more ... | "fulfilled"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"cancelled" | SQLWrapper | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/domains/sales/repository.ts(116,7): error TS2740: Type 'Omit<PgSelectBase<"sales_orders", { total: SQL<number>; }, "partial", Record<"sales_orders", "not-null">, false, "where", { total: number; }[], { total: DrizzleTypeError<"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`">; }>, "where">' is missing the following properties from type 'PgSelectBase<"sales_orders", { total: SQL<number>; }, "partial", Record<"sales_orders", "not-null">, false, never, { total: number; }[], { total: DrizzleTypeError<"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`">; }>': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/domains/sales/repository.ts(132,33): error TS2339: Property 'orderId' does not exist on type 'PgTableWithColumns<{ name: "sales_order_items"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "sales_order_items"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; createdAt: PgColumn<...>; }...'.
server/domains/sales/repository.ts(144,33): error TS2339: Property 'orderId' does not exist on type 'PgTableWithColumns<{ name: "sales_order_items"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "sales_order_items"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; createdAt: PgColumn<...>; }...'.
server/domains/sales/repository.ts(169,33): error TS2339: Property 'transactionDate' does not exist on type 'PgTableWithColumns<{ name: "revenue_transactions"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "revenue_transactions"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 23 more ...; createdAt: PgColumn<....'.
server/domains/sales/repository.ts(170,33): error TS2339: Property 'transactionDate' does not exist on type 'PgTableWithColumns<{ name: "revenue_transactions"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "revenue_transactions"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 23 more ...; createdAt: PgColumn<....'.
server/domains/sales/repository.ts(172,41): error TS2339: Property 'transactionDate' does not exist on type 'PgTableWithColumns<{ name: "revenue_transactions"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "revenue_transactions"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 23 more ...; createdAt: PgColumn<....'.
server/domains/sales/repository.ts(185,7): error TS2740: Type 'Omit<PgSelectBase<"revenue_transactions", { total: SQL<number>; }, "partial", Record<"revenue_transactions", "not-null">, false, "where", { total: number; }[], { total: DrizzleTypeError<"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`">; }>, "where">' is missing the following properties from type 'PgSelectBase<"revenue_transactions", { total: SQL<number>; }, "partial", Record<"revenue_transactions", "not-null">, false, never, { total: number; }[], { total: DrizzleTypeError<"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`">; }>': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/domains/sales/repository.ts(291,41): error TS2339: Property 'period' does not exist on type 'PgTableWithColumns<{ name: "sales_performance_metrics"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "sales_performance_metrics"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: ...'.
server/domains/sales/service.ts(134,13): error TS2339: Property 'StorageApprovalGuard' does not exist on type 'typeof import("/home/runner/workspace/server/storage")'.
server/domains/sales/service.ts(150,51): error TS2339: Property 'partial' does not exist on type 'ZodEffects<ZodObject<Omit<{ id: ZodOptional<ZodString>; salesOrderNumber: ZodString; customerId: ZodString; orderId: ZodOptional<ZodNullable<ZodString>>; ... 31 more ...; updatedAt: ZodOptional<...>; }, "id" | ... 10 more ... | "cancelledAt">, "strip", ZodTypeAny, { ...; }, { ...; }>, { ...; }, { ...; }>'.
server/domains/sales/service.ts(303,13): error TS2339: Property 'StorageApprovalGuard' does not exist on type 'typeof import("/home/runner/workspace/server/storage")'.
server/domains/sales/service.ts(319,59): error TS2339: Property 'partial' does not exist on type 'ZodEffects<ZodObject<Omit<{ id: ZodOptional<ZodString>; transactionNumber: ZodString; customerId: ZodString; salesOrderId: ZodOptional<ZodNullable<ZodString>>; ... 20 more ...; createdAt: ZodOptional<...>; }, "id" | ... 5 more ... | "approvedAt">, "strip", ZodTypeAny, { ...; }, { ...; }>, { ...; }, { ...; }>'.
server/domains/sales/service.ts(355,9): error TS2365: Operator '<=' cannot be applied to types 'string' and 'number'.
server/domains/sales/service.ts(361,35): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/domains/sales/service.ts(373,13): error TS2339: Property 'StorageApprovalGuard' does not exist on type 'typeof import("/home/runner/workspace/server/storage")'.
server/domains/users/repository.ts(7,8): error TS2724: '"@shared/schema"' has no exported member named 'UserWarehouseScope'. Did you mean 'userWarehouseScopes'?
server/domains/users/repository.ts(36,36): error TS2345: Argument of type '"upsert"' is not assignable to parameter of type '"create" | "update" | "delete"'.
server/domains/users/service.ts(6,3): error TS2724: '"@shared/schema"' has no exported member named 'UserWarehouseScope'. Did you mean 'userWarehouseScopes'?
server/domains/users/service.ts(10,10): error TS2724: '"@shared/schema"' has no exported member named 'upsertUserSchema'. Did you mean 'insertUserSchema'?
server/domains/users/service.ts(10,28): error TS2724: '"@shared/schema"' has no exported member named 'insertUserWarehouseScopeSchema'. Did you mean 'InsertUserWarehouseScope'?
server/domains/users/service.ts(195,13): error TS2339: Property 'StorageApprovalGuard' does not exist on type 'typeof import("/home/runner/workspace/server/storage")'.
server/domains/warehouse/repository.ts(219,37): error TS2339: Property 'warehouseLocation' does not exist on type 'PgTableWithColumns<{ name: "warehouse_batches"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "warehouse_batches"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 17 more ...; updatedAt: PgColumn<...>; }...'.
server/domains/warehouse/repository.ts(229,37): error TS2339: Property 'batchStatus' does not exist on type 'PgTableWithColumns<{ name: "warehouse_batches"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "warehouse_batches"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 17 more ...; updatedAt: PgColumn<...>; }...'.
server/domains/warehouse/service.ts(167,15): error TS2339: Property 'cleanKg' does not exist on type '{ warehouse: string; supplierId: string; purchaseId: string; qtyKgTotal: string; qtyKgClean: string; status?: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | ... 4 more ... | undefined; ... 13 more ...; gradedAt?: Date | ... 1 more ... | undefined; }'.
server/domains/warehouse/service.ts(167,43): error TS2339: Property 'cleanKg' does not exist on type '{ warehouse: string; supplierId: string; purchaseId: string; qtyKgTotal: string; qtyKgClean: string; status?: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | ... 4 more ... | undefined; ... 13 more ...; gradedAt?: Date | ... 1 more ... | undefined; }'.
server/domains/warehouse/service.ts(171,15): error TS2339: Property 'nonCleanKg' does not exist on type '{ warehouse: string; supplierId: string; purchaseId: string; qtyKgTotal: string; qtyKgClean: string; status?: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | ... 4 more ... | undefined; ... 13 more ...; gradedAt?: Date | ... 1 more ... | undefined; }'.
server/domains/warehouse/service.ts(171,46): error TS2339: Property 'nonCleanKg' does not exist on type '{ warehouse: string; supplierId: string; purchaseId: string; qtyKgTotal: string; qtyKgClean: string; status?: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | ... 4 more ... | undefined; ... 13 more ...; gradedAt?: Date | ... 1 more ... | undefined; }'.
server/domains/warehouse/service.ts(212,13): error TS2339: Property 'StorageApprovalGuard' does not exist on type 'typeof import("/home/runner/workspace/server/storage")'.
server/inspectionWorkflowService.ts(121,74): error TS2554: Expected 2 arguments, but got 4.
server/inspectionWorkflowService.ts(177,11): error TS2322: Type '"completed" | "settlement_required"' is not assignable to type '"pending" | "approved" | "rejected" | SQL<unknown> | "completed" | "in_progress" | "failed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
  Type '"settlement_required"' is not assignable to type '"pending" | "approved" | "rejected" | SQL<unknown> | "completed" | "in_progress" | "failed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/inspectionWorkflowService.ts(190,66): error TS2554: Expected 2 arguments, but got 5.
server/inspectionWorkflowService.ts(237,11): error TS2367: This comparison appears to be unintentional because the types '"pending" | "approved" | "rejected" | "completed" | "in_progress" | "failed"' and '"settlement_required"' have no overlap.
server/inspectionWorkflowService.ts(258,11): error TS2322: Type '"settlement_required" | "settled"' is not assignable to type '"pending" | "approved" | "rejected" | SQL<unknown> | "completed" | "in_progress" | "failed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
  Type '"settlement_required"' is not assignable to type '"pending" | "approved" | "rejected" | SQL<unknown> | "completed" | "in_progress" | "failed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/inspectionWorkflowService.ts(270,68): error TS2554: Expected 2 arguments, but got 5.
server/inspectionWorkflowService.ts(323,11): error TS2322: Type '"available"' is not assignable to type 'SQL<unknown> | "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | "READY_TO_SHIP" | "NON_CLEAN" | "READY_FOR_SALE" | "AWAITING_FILTER" | PgColumn<...> | undefined'.
server/inspectionWorkflowService.ts(382,53): error TS2551: Property 'getApprovalThresholds' does not exist on type 'ConfigurationService'. Did you mean 'getApprovalThreshold'?
server/inspectionWorkflowService.ts(422,26): error TS2551: Property 'settlementOption' does not exist on type '{ id: string; shipmentId: string; inspectionNumber: string; expectedWeightKg: string; receivedWeightKg: string; grossWeightKg: string | null; cleanWeightKg: string; damagedWeightKg: string; ... 11 more ...; completedAt: Date | null; }'. Did you mean 'settlementAction'?
server/inspectionWorkflowService.ts(440,11): error TS2322: Type '"settled"' is not assignable to type '"pending" | "approved" | "rejected" | SQL<unknown> | "completed" | "in_progress" | "failed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/inspectionWorkflowService.ts(481,38): error TS2551: Property 'settlementOption' does not exist on type '{ id: string; shipmentId: string; inspectionNumber: string; expectedWeightKg: string; receivedWeightKg: string; grossWeightKg: string | null; cleanWeightKg: string; damagedWeightKg: string; ... 11 more ...; completedAt: Date | null; }'. Did you mean 'settlementAction'?
server/inspectionWorkflowService.ts(482,42): error TS2367: This comparison appears to be unintentional because the types '"pending" | "approved" | "rejected" | "completed" | "in_progress" | "failed"' and '"settled"' have no overlap.
server/inspectionWorkflowService.ts(483,27): error TS2367: This comparison appears to be unintentional because the types '"pending" | "approved" | "rejected" | "completed" | "in_progress" | "failed"' and '"settlement_required"' have no overlap.
server/landedCostService.ts(295,37): error TS2345: Argument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.
server/modules/approvals/workflowService.ts(204,16): error TS18046: 'error' is of type 'unknown'.
server/modules/approvals/workflowService.ts(240,9): error TS2353: Object literal may only specify known properties, and 'requestNumber' does not exist in type '{ operationType: "capital_entry" | "purchase" | "sale_order" | "financial_adjustment" | "user_role_change" | "system_setting_change" | "warehouse_operation" | "shipping_operation" | "operating_expense" | "supply_purchase" | "notification_delivery" | "monitoring_check"; ... 38 more ...; maxConsumptions?: number | und...'.
server/modules/approvals/workflowService.ts(585,23): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"approval_requests", { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 42 more ...; updatedAt: PgColumn<...>; }, .....'.
server/modules/approvals/workflowService.ts(589,23): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"approval_requests", { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 42 more ...; updatedAt: PgColumn<...>; }, .....'.
server/modules/approvals/workflowService.ts(623,23): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"approval_requests", { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 42 more ...; updatedAt: PgColumn<...>; }, .....'.
server/modules/approvals/workflowService.ts(633,23): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"approval_requests", { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 42 more ...; updatedAt: PgColumn<...>; }, .....'.
server/modules/approvals/workflowService.ts(1037,9): error TS2353: Object literal may only specify known properties, and 'severity' does not exist in type 'ChangeRecord'.
server/modules/capital/service.ts(94,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'references' does not exist in type '{ type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }'. Did you mean to write 'reference'?
  Overload 2 of 2, '(values: { type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'entryId' does not exist in type '{ type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }[]'.
server/modules/capital/service.ts(222,113): error TS2345: Argument of type 'number' is not assignable to parameter of type 'string'.
server/modules/capital/service.ts(223,114): error TS2345: Argument of type 'boolean' is not assignable to parameter of type 'string'.
server/modules/capital/service.ts(240,51): error TS18047: 'lowBalanceThreshold' is possibly 'null'.
server/modules/capital/service.ts(244,11): error TS2322: Type 'number | null' is not assignable to type 'number'.
  Type 'null' is not assignable to type 'number'.
server/modules/capital/service.ts(245,20): error TS18047: 'lowBalanceThreshold' is possibly 'null'.
server/modules/capital/service.ts(246,39): error TS18047: 'lowBalanceThreshold' is possibly 'null'.
server/modules/capital/service.ts(247,50): error TS18047: 'lowBalanceThreshold' is possibly 'null'.
server/modules/capital/service.ts(297,17): error TS2551: Property 'references' does not exist on type '{ id: string; entryId: string; date: Date; amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; reference: string | null; description: string | null; ... 5 more ...; createdAt: Date | null; }'. Did you mean 'reference'?
server/modules/capital/service.ts(297,51): error TS2551: Property 'references' does not exist on type '{ id: string; entryId: string; date: Date; amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; reference: string | null; description: string | null; ... 5 more ...; createdAt: Date | null; }'. Did you mean 'reference'?
server/modules/capital/service.ts(298,39): error TS2551: Property 'references' does not exist on type '{ id: string; entryId: string; date: Date; amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; reference: string | null; description: string | null; ... 5 more ...; createdAt: Date | null; }'. Did you mean 'reference'?
server/modules/capital/service.ts(315,11): error TS2561: Object literal may only specify known properties, but 'validatedAt' does not exist in type '{ type?: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; ... 11 more ...; isValidated?: boolean | ... 2 more ... | undefined; }'. Did you mean to write 'isValidated'?
server/modules/capital/service.ts(364,9): error TS2322: Type '{}' is not assignable to type 'number'.
server/modules/documents/service.ts(239,11): error TS2322: Type '{ documentNumber: string; fileName: string; originalFileName: string; filePath: string; contentType: string; fileSize: number; checksum: string; createdBy: string; currentVersion: number; isLatestVersion: true; ... 32 more ...; archivedAt?: Date | ... 1 more ... | undefined; }' is not assignable to type '{ fileSize: number; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | ... 4 more ... | "regulation_document"; ... 40 more ...; archivedAt?: Date | ... 1 more ... | undefined; }'.
  Types of property 'category' are incompatible.
    Type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_document" | ... 4 more ... | undefined' is not assignable to type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_document" | "insurance_policy" | "license" | "permit" | "regulation_document"'.
      Type 'undefined' is not assignable to type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_document" | "insurance_policy" | "license" | "permit" | "regulation_document"'.
server/modules/notifications/scheduler.ts(104,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/scheduler.ts(125,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/scheduler.ts(149,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/scheduler.ts(176,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/scheduler.ts(197,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/scheduler.ts(223,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/scheduler.ts(246,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/scheduler.ts(263,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/scheduler.ts(292,58): error TS2345: Argument of type '{ userId: string; alertType: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 8 more ...; templateData: {} | undefined; }' is not assignable to parameter of type '{ userId: string; message: string; title: string; alertType: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 7 more ...; scheduledFor?: string | undefined; }'.
  Types of property 'channels' are incompatible.
    Type 'string[]' is not assignable to type '("in_app" | "email" | "sms" | "webhook")[]'.
      Type 'string' is not assignable to type '"in_app" | "email" | "sms" | "webhook"'.
server/modules/notifications/scheduler.ts(319,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/scheduler.ts(324,57): error TS2551: Property 'cleanupOldNotifications' does not exist on type 'NotificationService'. Did you mean 'sendNotification'?
server/modules/notifications/scheduler.ts(341,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/scheduler.ts(377,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/modules/notifications/service.ts(317,13): error TS2322: Type 'string | null' is not assignable to type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.
server/modules/notifications/service.ts(433,13): error TS2353: Object literal may only specify known properties, and 'lastAttemptAt' does not exist in type '{ status: "pending" | "sent" | "failed" | "read" | "dismissed"; id: string; readAt?: string | undefined; dismissedAt?: string | undefined; errorMessage?: string | undefined; }'.
server/modules/purchases/supplierService.ts(438,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'validatedBy' does not exist in type '{ type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }'. Did you mean to write 'isValidated'?
  Overload 2 of 2, '(values: { type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'entryId' does not exist in type '{ type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }[]'.
server/modules/purchases/supplierService.ts(563,7): error TS2322: Type '{ supplier: { id: string; name: string; tradeName: string | null; country: string | null; notes: string | null; qualityGrading: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; ... 7 more ...; updatedAt: Date | null; }; metrics: { ...; }; }[]' is not assignable to type '{ supplier: { name: string; id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; tradeName: string | null; country: string | null; notes: string | null; ... 5 more ...; paymentTerms: string | null; }; metrics: { ...; }; }[]'.
  Type '{ supplier: { id: string; name: string; tradeName: string | null; country: string | null; notes: string | null; qualityGrading: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; ... 7 more ...; updatedAt: Date | null; }; metrics: { ...; }; }' is not assignable to type '{ supplier: { name: string; id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; tradeName: string | null; country: string | null; notes: string | null; ... 5 more ...; paymentTerms: string | null; }; metrics: { ...; }; }'.
    The types of 'metrics.totalPurchases' are incompatible between these types.
      Type '{}' is not assignable to type 'number'.
server/modules/revenues/service.ts(206,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionType' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionNumber' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]'.
server/modules/revenues/service.ts(222,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionType' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionNumber' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]'.
server/modules/revenues/service.ts(240,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'validatedBy' does not exist in type '{ type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }'. Did you mean to write 'isValidated'?
  Overload 2 of 2, '(values: { type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'entryId' does not exist in type '{ type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }[]'.
server/modules/revenues/service.ts(259,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'expenseType' does not exist in type '{ description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }'. Did you mean to write 'expenseDate'?
  Overload 2 of 2, '(values: { description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'expenseNumber' does not exist in type '{ description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }[]'.
server/modules/revenues/service.ts(360,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionType' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionNumber' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]'.
server/modules/revenues/service.ts(384,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionType' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionNumber' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]'.
server/modules/shipping/service.ts(112,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 12 more ...; invoiceReference?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'vendorName' does not exist in type '{ description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 12 more ...; invoiceReference?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 12 more ...; invoiceReference?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'shipmentId' does not exist in type '{ description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 12 more ...; invoiceReference?: string | ... 3 more ... | undefined; }[]'.
server/modules/shipping/service.ts(219,11): error TS2322: Type '"settled"' is not assignable to type '"pending" | "approved" | "rejected" | SQL<unknown> | "completed" | "in_progress" | "failed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/modules/shipping/service.ts(462,37): error TS2341: Property 'triggerFinalWarehouseTransfer' is private and only accessible within class 'InspectionWorkflowService'.
server/modules/shipping/service.ts(462,37): error TS2554: Expected 3 arguments, but got 2.
server/modules/shipping/service.ts(495,37): error TS2341: Property 'triggerFinalWarehouseTransfer' is private and only accessible within class 'InspectionWorkflowService'.
server/modules/shipping/service.ts(495,37): error TS2554: Expected 3 arguments, but got 2.
server/modules/warehouse/service.ts(82,113): error TS2345: Argument of type 'number' is not assignable to parameter of type 'string'.
server/modules/warehouse/service.ts(109,28): error TS18047: 'alertThresholdDays' is possibly 'null'.
server/modules/warehouse/service.ts(113,30): error TS18047: 'alertThresholdDays' is possibly 'null'.
server/modules/warehouse/service.ts(116,37): error TS18047: 'alertThresholdDays' is possibly 'null'.
server/modules/warehouse/service.ts(119,37): error TS18047: 'alertThresholdDays' is possibly 'null'.
server/modules/warehouse/service.ts(129,13): error TS2322: Type 'string | null' is not assignable to type 'string'.
  Type 'null' is not assignable to type 'string'.
server/modules/warehouse/service.ts(218,53): error TS2345: Argument of type '{ supplierId: string; supplierName: string; inputKg: string; outputCleanKg: string; outputNonCleanKg: string; filterYield: string; createdAt: Date | null; }' is not assignable to parameter of type 'FilteringRecord'.
  Types of property 'createdAt' are incompatible.
    Type 'Date | null' is not assignable to type 'Date'.
      Type 'null' is not assignable to type 'Date'.
server/notificationSchedulerService.ts(104,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationSchedulerService.ts(125,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationSchedulerService.ts(149,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationSchedulerService.ts(176,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationSchedulerService.ts(197,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationSchedulerService.ts(223,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationSchedulerService.ts(246,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationSchedulerService.ts(263,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationSchedulerService.ts(292,58): error TS2345: Argument of type '{ userId: string; alertType: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 8 more ...; templateData: {} | undefined; }' is not assignable to parameter of type '{ message: string; userId: string; title: string; alertType: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 7 more ...; scheduledFor?: string | undefined; }'.
  Types of property 'channels' are incompatible.
    Type 'string[]' is not assignable to type '("in_app" | "email" | "sms" | "webhook")[]'.
      Type 'string' is not assignable to type '"in_app" | "email" | "sms" | "webhook"'.
server/notificationSchedulerService.ts(319,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationSchedulerService.ts(324,57): error TS2551: Property 'cleanupOldNotifications' does not exist on type 'NotificationService'. Did you mean 'sendNotification'?
server/notificationSchedulerService.ts(341,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationSchedulerService.ts(377,7): error TS2353: Object literal may only specify known properties, and 'task' does not exist in type 'Omit<ScheduledTask, "task">'.
server/notificationService.ts(317,13): error TS2322: Type 'string | null' is not assignable to type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.
server/notificationService.ts(433,13): error TS2353: Object literal may only specify known properties, and 'lastAttemptAt' does not exist in type '{ status: "pending" | "sent" | "failed" | "read" | "dismissed"; id: string; readAt?: string | undefined; dismissedAt?: string | undefined; errorMessage?: string | undefined; }'.
server/periodGuard.ts(5,11): error TS2430: Interface 'AuthenticatedRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'user' are incompatible.
    Type '{ claims: { sub: string; email?: string | undefined; }; }' is missing the following properties from type 'AuthUser': id, email, role, isActive, and 3 more.
server/revenueEnhancementService.ts(206,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionType' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionNumber' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]'.
server/revenueEnhancementService.ts(222,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionType' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionNumber' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]'.
server/revenueEnhancementService.ts(240,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'validatedBy' does not exist in type '{ type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }'. Did you mean to write 'isValidated'?
  Overload 2 of 2, '(values: { type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'entryId' does not exist in type '{ type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }[]'.
server/revenueEnhancementService.ts(259,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'expenseType' does not exist in type '{ description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }'. Did you mean to write 'expenseDate'?
  Overload 2 of 2, '(values: { description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'expenseNumber' does not exist in type '{ description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }[]'.
server/revenueEnhancementService.ts(360,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionType' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionNumber' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]'.
server/revenueEnhancementService.ts(384,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionType' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionNumber' does not exist in type '{ type: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]'.
server/routes/ai.ts(186,9): error TS2739: Type '{ totalPurchases: number; currentBalance: number; capitalIn: number; capitalOut: number; totalPaid: number; totalOutstanding: number; totalInventoryValue: number; netPosition: number; }' is missing the following properties from type '{ currentBalance: number; capitalIn: number; capitalOut: number; totalPurchases: number; totalPaid: number; totalOutstanding: number; totalInventoryValue: number; netPosition: number; totalRevenue: number; totalCapitalIn: number; totalPurchasePayments: number; }': totalRevenue, totalCapitalIn, totalPurchasePayments
server/routes/approvals.ts(15,36): error TS2339: Property 'getApprovalRequests' does not exist on type 'DatabaseStorage'.
server/routes/approvals.ts(30,75): error TS2345: Argument of type '{ requestedBy: string; operationType: "capital_entry" | "purchase" | "sale_order" | "financial_adjustment" | "user_role_change" | "system_setting_change" | "warehouse_operation" | ... 4 more ... | "monitoring_check"; ... 37 more ...; maxConsumptions?: number | undefined; }' is not assignable to parameter of type 'ApprovalWorkflowConfig'.
  Types of property 'currency' are incompatible.
    Type 'string | null | undefined' is not assignable to type 'string | undefined'.
      Type 'null' is not assignable to type 'string | undefined'.
server/routes/approvals.ts(36,26): error TS2554: Expected 2 arguments, but got 1.
server/routes/approvals.ts(57,36): error TS2322: Type '"manager"' is not assignable to type 'AllowedRole'.
server/routes/approvals.ts(66,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'ApprovalDecision'.
server/routes/approvals.ts(71,26): error TS2554: Expected 2 arguments, but got 1.
server/routes/capital.ts(35,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/capital.ts(174,9): error TS2322: Type 'number' is not assignable to type 'string'.
server/routes/documents.ts(25,60): error TS2345: Argument of type '{ query: string; category: string; status: string; limit: number | undefined; offset: number | undefined; }' is not assignable to parameter of type '{ limit: number; offset: number; sortBy: "createdAt" | "title" | "documentDate" | "expiryDate" | "modifiedAt"; sortOrder: "asc" | "desc"; query?: string | undefined; status?: "approved" | ... 7 more ... | undefined; ... 10 more ...; expiryTo?: string | undefined; }'.
  Type '{ query: string; category: string; status: string; limit: number | undefined; offset: number | undefined; }' is missing the following properties from type '{ limit: number; offset: number; sortBy: "createdAt" | "title" | "documentDate" | "expiryDate" | "modifiedAt"; sortOrder: "asc" | "desc"; query?: string | undefined; status?: "approved" | ... 7 more ... | undefined; ... 10 more ...; expiryTo?: string | undefined; }': sortBy, sortOrder
server/routes/documents.ts(52,51): error TS2345: Argument of type '{ query: string; category: string; status: string; limit: number | undefined; offset: number | undefined; }' is not assignable to parameter of type '{ limit: number; offset: number; sortBy: "createdAt" | "title" | "documentDate" | "expiryDate" | "modifiedAt"; sortOrder: "asc" | "desc"; query?: string | undefined; status?: "approved" | ... 7 more ... | undefined; ... 10 more ...; expiryTo?: string | undefined; }'.
  Type '{ query: string; category: string; status: string; limit: number | undefined; offset: number | undefined; }' is missing the following properties from type '{ limit: number; offset: number; sortBy: "createdAt" | "title" | "documentDate" | "expiryDate" | "modifiedAt"; sortOrder: "asc" | "desc"; query?: string | undefined; status?: "approved" | ... 7 more ... | undefined; ... 10 more ...; expiryTo?: string | undefined; }': sortBy, sortOrder
server/routes/documents.ts(107,46): error TS2554: Expected 3 arguments, but got 2.
server/routes/documents.ts(125,30): error TS2339: Property 'id' does not exist on type '{ document: { fileSize: number; status: "approved" | "rejected" | "draft" | "pending_review"; id: string; createdAt: Date | null; description: string | null; category: "invoice" | ... 12 more ... | "regulation_document"; ... 36 more ...; archivedAt: Date | null; }; validation: any; }'.
server/routes/documents.ts(128,55): error TS2339: Property 'title' does not exist on type '{ document: { fileSize: number; status: "approved" | "rejected" | "draft" | "pending_review"; id: string; createdAt: Date | null; description: string | null; category: "invoice" | ... 12 more ... | "regulation_document"; ... 36 more ...; archivedAt: Date | null; }; validation: any; }'.
server/routes/documents.ts(176,11): error TS2322: Type 'null' is not assignable to type 'Record<string, any> | undefined'.
server/routes/export.ts(90,25): error TS2322: Type '"manager"' is not assignable to type 'AllowedRole'.
server/routes/notifications.ts(28,55): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/routes/notifications.ts(41,46): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/routes/notifications.ts(104,33): error TS2339: Property 'sendTestEmail' does not exist on type 'NotificationService'.
server/routes/operating-expenses.ts(166,15): error TS2339: Property 'exchangeRate' does not exist on type '{ supplierId: string; fundingSource: string; quantity: string; supplyId: string; supplyInventoryId: string; unitPrice: string; currency?: string | undefined; createdBy?: string | null | undefined; amountPaid?: string | undefined; purchaseDate?: Date | undefined; }'.
server/routes/purchases.ts(29,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/purchases.ts(74,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/purchases.ts(101,101): error TS2554: Expected 2-3 arguments, but got 4.
server/routes/purchases.ts(129,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/purchases.ts(201,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/purchases.ts(311,18): error TS2339: Property 'message' does not exist on type '{}'.
server/routes/purchases.ts(372,9): error TS2345: Argument of type '{ qualityScore: string; supplierId: string; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded"; consistencyScore: string; defectRateScore: string; ... 5 more ...; assessmentDate?: Date | undefined; }' is not assignable to parameter of type 'SupplierQualityAssessment'.
  Property 'assessmentCriteria' is missing in type '{ qualityScore: string; supplierId: string; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded"; consistencyScore: string; defectRateScore: string; ... 5 more ...; assessmentDate?: Date | undefined; }' but required in type 'SupplierQualityAssessment'.
server/routes/purchases.ts(402,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/purchases.ts(461,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/purchases.ts(475,62): error TS2339: Property 'issueSupplierAdvance' does not exist on type 'SupplierEnhancementService'.
server/routes/purchases.ts(520,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/purchases.ts(534,62): error TS2339: Property 'consumeSupplierAdvance' does not exist on type 'SupplierEnhancementService'.
server/routes/reports.ts(32,34): error TS2339: Property 'getInventoryStatus' does not exist on type 'DatabaseStorage'.
server/routes/reports.ts(43,39): error TS2339: Property 'getOrderFulfillmentReport' does not exist on type 'DatabaseStorage'.
server/routes/reports.ts(57,41): error TS2551: Property 'getSupplierPerformanceReport' does not exist on type 'DatabaseStorage'. Did you mean 'getSupplierPerformance'?
server/routes/reports.ts(71,39): error TS2339: Property 'getInventoryStatus' does not exist on type 'DatabaseStorage'.
server/routes/reports.ts(86,41): error TS2339: Property 'getCapitalUtilizationReport' does not exist on type 'DatabaseStorage'.
server/routes/revenues.ts(255,108): error TS2551: Property 'amountUsd' does not exist on type '{ amount: string; date: Date; status: "pending" | "cancelled" | "confirmed" | "reversed"; id: string; createdAt: Date | null; updatedAt: Date | null; approvedBy: string | null; ... 16 more ...; operatingExpenseId: string | null; }'. Did you mean 'amount'?
server/routes/sales.ts(45,25): error TS2339: Property 'items' does not exist on type '{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | null | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }'.
server/routes/sales.ts(45,48): error TS2339: Property 'items' does not exist on type '{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | null | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }'.
server/routes/sales.ts(46,37): error TS2339: Property 'items' does not exist on type '{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | null | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }'.
server/routes/sales.ts(76,9): error TS2353: Object literal may only specify known properties, and 'subtotalAmount' does not exist in type '{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | null | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }'.
server/routes/sales.ts(84,25): error TS2339: Property 'items' does not exist on type '{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | null | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }'.
server/routes/sales.ts(84,48): error TS2339: Property 'items' does not exist on type '{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | null | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }'.
server/routes/sales.ts(88,42): error TS2339: Property 'items' does not exist on type '{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | null | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }'.
server/routes/sales.ts(227,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type 'AuthUser'.
                Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/sales.ts(229,68): error TS2304: Cannot find name 'authReq'.
server/routes/sales.ts(234,20): error TS2304: Cannot find name 'authReq'.
server/routes/sales.ts(235,22): error TS2304: Cannot find name 'authReq'.
server/routes/sales.ts(258,65): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<Response<any, Record<string, any>, number> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<Response<any, Record<string, any>, number> | undefined>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type 'AuthUser'.
                Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/sales.ts(276,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type 'AuthUser'.
                Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/sales.ts(284,20): error TS2304: Cannot find name 'authReq'.
server/routes/sales.ts(285,22): error TS2304: Cannot find name 'authReq'.
server/routes/sales.ts(312,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<Response<any, Record<string, any>, number> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<Response<any, Record<string, any>, number> | undefined>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type 'AuthUser'.
                Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/sales.ts(315,22): error TS2304: Cannot find name 'authReq'.
server/routes/sales.ts(336,42): error TS2554: Expected 3 arguments, but got 2.
server/routes/sales.ts(360,11): error TS2353: Object literal may only specify known properties, and 'fulfilledAt' does not exist in type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'.
server/routes/sales.ts(364,11): error TS2322: Type '"partially_fulfilled"' is not assignable to type '"cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined'.
server/routes/sales.ts(372,22): error TS2304: Cannot find name 'authReq'.
server/routes/sales.ts(379,11): error TS2322: Type '"fulfill"' is not assignable to type '"create" | "update" | "delete" | "view" | "approve" | "reject" | "login" | "logout" | "export" | "import" | "validate" | "auto_correct" | "password_reset_failed"'.
server/routes/sales.ts(408,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type 'AuthUser'.
                Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/sales.ts(411,22): error TS2304: Cannot find name 'authReq'.
server/routes/sales.ts(418,22): error TS2304: Cannot find name 'authReq'.
server/routes/sales.ts(444,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type 'AuthUser'.
                Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/sales.ts(459,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>, number>) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type 'AuthUser'.
                Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/shipping.ts(46,9): error TS2353: Object literal may only specify known properties, and 'userId' does not exist in type '{ orderId: string; carrierId: string; method: "air" | "sea" | "land" | "rail" | "multimodal"; originAddress: string; destinationAddress: string; totalWeight: string; currency?: string | undefined; ... 10 more ...; totalVolume?: string | ... 1 more ... | undefined; }'.
server/routes/shipping.ts(55,52): error TS2339: Property 'containerNumber' does not exist on type '{ currency: string; status: "pending" | "cancelled" | "in_transit" | "delivered" | "delayed"; id: string; createdAt: Date | null; updatedAt: Date | null; createdBy: string | null; ... 15 more ...; totalVolume: string | null; }'.
server/routes/shipping.ts(76,9): error TS2345: Argument of type '{ fundingSource: "capital" | "supplier" | "operational"; chargeableWeightKg: number; ratePerKg: number; shipmentLegId: string; baseCost: number; commissionPercent: number; notes?: string | undefined; }' is not assignable to parameter of type 'CommissionCalculationRequest'.
  Property 'currency' is missing in type '{ fundingSource: "capital" | "supplier" | "operational"; chargeableWeightKg: number; ratePerKg: number; shipmentLegId: string; baseCost: number; commissionPercent: number; notes?: string | undefined; }' but required in type 'CommissionCalculationRequest'.
server/routes/shipping.ts(109,43): error TS2339: Property 'inspectionLocation' does not exist on type '{ shipmentId: string; expectedWeightKg: string; receivedWeightKg: string; cleanWeightKg: string; damagedWeightKg: string; inspectedBy: string; status?: "pending" | "approved" | "rejected" | "completed" | "in_progress" | "failed" | undefined; ... 8 more ...; transferredAt?: Date | ... 1 more ... | undefined; }'.
server/routes/shipping.ts(110,30): error TS2339: Property 'notes' does not exist on type '{ shipmentId: string; expectedWeightKg: string; receivedWeightKg: string; cleanWeightKg: string; damagedWeightKg: string; inspectedBy: string; status?: "pending" | "approved" | "rejected" | "completed" | "in_progress" | "failed" | undefined; ... 8 more ...; transferredAt?: Date | ... 1 more ... | undefined; }'.
server/routes/shipping.ts(146,33): error TS2339: Property 'orderId' does not exist on type '{ currency: string; shipmentId: string; includeShippingCosts: boolean; includeArrivalCosts: boolean; exchangeRate?: number | undefined; }'.
server/routes/shipping.ts(170,9): error TS2345: Argument of type '{ inspectionId: string; approvedBy: string; settlementType: "accept"; settlementReason: string; settlementDate: Date; } | { inspectionId: string; approvedBy: string; settlementType: "claim"; settlementReason: string; settlementDate: Date; claimDetails: { ...; }; } | { ...; } | { ...; }' is not assignable to parameter of type 'InspectionSettlement'.
  Type '{ inspectionId: string; approvedBy: string; settlementType: "claim"; settlementReason: string; settlementDate: Date; claimDetails: { claimAmount: number; claimReason: string; supportingDocuments?: string[] | undefined; }; }' is not assignable to type 'InspectionSettlement'.
    The types of 'claimDetails.supportingDocuments' are incompatible between these types.
      Type 'string[] | undefined' is not assignable to type 'string[]'.
        Type 'undefined' is not assignable to type 'string[]'.
server/routes/users.ts(481,9): error TS2820: Type '"password_reset_initiated"' is not assignable to type '"create" | "update" | "delete" | "view" | "approve" | "reject" | "login" | "logout" | "export" | "import" | "validate" | "auto_correct" | "password_reset_failed"'. Did you mean '"password_reset_failed"'?
server/routes/users.ts(685,11): error TS2820: Type '"password_reset_initiated"' is not assignable to type '"create" | "update" | "delete" | "view" | "approve" | "reject" | "login" | "logout" | "export" | "import" | "validate" | "auto_correct" | "password_reset_failed"'. Did you mean '"password_reset_failed"'?
server/routes/users.ts(689,77): error TS2304: Cannot find name 'authReq'.
server/routes/users.ts(689,110): error TS2304: Cannot find name 'authReq'.
server/routes/users.ts(691,70): error TS2304: Cannot find name 'authReq'.
server/routes/warehouse.ts(38,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/warehouse.ts(47,9): error TS2353: Object literal may only specify known properties, and 'userId' does not exist in type '{ warehouse: string; supplierId: string; purchaseId: string; qtyKgTotal: string; qtyKgClean: string; status?: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | ... 4 more ... | undefined; ... 13 more ...; gradedAt?: Date | ... 1 more ... | undefined; }'.
server/routes/warehouse.ts(51,26): error TS2554: Expected 2 arguments, but got 1.
server/routes/warehouse.ts(73,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/warehouse.ts(80,36): error TS2551: Property 'filterWarehouseStock' does not exist on type 'DatabaseStorage'. Did you mean 'getWarehouseStock'?
server/routes/warehouse.ts(83,26): error TS2554: Expected 2 arguments, but got 1.
server/routes/warehouse.ts(105,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/warehouse.ts(112,36): error TS2551: Property 'moveToFinalWarehouse' does not exist on type 'DatabaseStorage'. Did you mean 'moveStockToFinalWarehouse'?
server/routes/warehouse.ts(115,26): error TS2554: Expected 2 arguments, but got 1.
server/routes/warehouse.ts(167,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/routes/warehouse.ts(216,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'AuthUser | undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
                Type 'undefined' is not assignable to type '{ claims: { sub: string; email?: string | undefined; }; }'.
server/salesEnhancementService.ts(180,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'unitCost' does not exist in type '{ quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }'.
  Overload 2 of 2, '(values: { quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'salesOrderId' does not exist in type '{ quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }[]'.
server/salesEnhancementService.ts(413,15): error TS2322: Type 'string' is not assignable to type 'SQL<unknown> | "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | "READY_TO_SHIP" | "NON_CLEAN" | "READY_FOR_SALE" | "AWAITING_FILTER" | PgColumn<...> | undefined'.
server/services/openai/aiService.ts(121,54): error TS18046: 'blockError' is of type 'unknown'.
server/services/openai/aiService.ts(179,48): error TS18046: 'extractError' is of type 'unknown'.
server/services/openai/aiService.ts(203,17): error TS2339: Property 'enabled' does not exist on type 'Promise<{ enabled: boolean; initialized: boolean; hasApiKey: boolean; model: string; features: { translation: boolean; assistant: boolean; reports: boolean; }; }>'.
server/services/openai/aiService.ts(203,36): error TS2339: Property 'hasApiKey' does not exist on type 'Promise<{ enabled: boolean; initialized: boolean; hasApiKey: boolean; model: string; features: { translation: boolean; assistant: boolean; reports: boolean; }; }>'.
server/services/openai/aiService.ts(204,53): error TS2339: Property 'enabled' does not exist on type 'Promise<{ enabled: boolean; initialized: boolean; hasApiKey: boolean; model: string; features: { translation: boolean; assistant: boolean; reports: boolean; }; }>'.
server/services/openai/aiService.ts(1090,5): error TS2739: Type '{}' is missing the following properties from type 'WorkflowSpec': stages, overallRequirements, complianceRules
server/shared/base/BaseRepository.ts(51,11): error TS2488: Type 'any[] | QueryResult<never>' must have a '[Symbol.iterator]()' method that returns an iterator.
server/shared/base/BaseService.ts(145,42): error TS2339: Property 'softDelete' does not exist on type 'BaseRepository<TEntity, TInsert>'.
server/storage.ts(2859,33): error TS2571: Object is of type 'unknown'.
server/storage.ts(2953,35): error TS2345: Argument of type 'Promise<number>' is not assignable to parameter of type 'Value'.
server/storage.ts(3046,30): error TS2345: Argument of type 'Promise<number>' is not assignable to parameter of type 'Value'.
server/storage.ts(3553,51): error TS2339: Property 'exchangeRate' does not exist on type '{ supplierId: string; fundingSource: string; quantity: string; supplyId: string; supplyInventoryId: string; unitPrice: string; currency?: string | undefined; createdBy?: string | null | undefined; amountPaid?: string | undefined; purchaseDate?: Date | undefined; }'.
server/storage.ts(3554,57): error TS2339: Property 'exchangeRate' does not exist on type '{ supplierId: string; fundingSource: string; quantity: string; supplyId: string; supplyInventoryId: string; unitPrice: string; currency?: string | undefined; createdBy?: string | null | undefined; amountPaid?: string | undefined; purchaseDate?: Date | undefined; }'.
server/storage.ts(3562,113): error TS2339: Property 'exchangeRate' does not exist on type '{ supplierId: string; fundingSource: string; quantity: string; supplyId: string; supplyInventoryId: string; unitPrice: string; currency?: string | undefined; createdBy?: string | null | undefined; amountPaid?: string | undefined; purchaseDate?: Date | undefined; }'.
server/storage.ts(3564,9): error TS2353: Object literal may only specify known properties, and 'exchangeRate' does not exist in type '{ amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/storage.ts(3564,32): error TS2339: Property 'exchangeRate' does not exist on type '{ supplierId: string; fundingSource: string; quantity: string; supplyId: string; supplyInventoryId: string; unitPrice: string; currency?: string | undefined; createdBy?: string | null | undefined; amountPaid?: string | undefined; purchaseDate?: Date | undefined; }'.
server/storage.ts(3690,66): error TS2339: Property 'qtyKgTotal' does not exist on type '{}'.
server/storage.ts(3690,111): error TS2339: Property 'warehouse' does not exist on type '{}'.
server/storage.ts(3726,77): error TS2339: Property 'status' does not exist on type '{}'.
server/storage.ts(3734,11): error TS2322: Type 'string' is not assignable to type '"AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | "READY_TO_SHIP" | "NON_CLEAN" | "READY_FOR_SALE" | "AWAITING_FILTER" | SQL<unknown> | PgColumn<...> | undefined'.
server/storage.ts(3881,47): error TS2339: Property 'qtyKgTotal' does not exist on type '{}'.
server/storage.ts(4048,7): error TS2739: Type '{ currentBalance: number; capitalIn: number; capitalOut: number; totalPurchases: number; totalPaid: number; totalOutstanding: number; totalInventoryValue: number; netPosition: number; }' is missing the following properties from type '{ currentBalance: number; capitalIn: number; capitalOut: number; totalPurchases: number; totalPaid: number; totalOutstanding: number; totalInventoryValue: number; netPosition: number; totalRevenue: number; totalCapitalIn: number; totalPurchasePayments: number; }': totalRevenue, totalCapitalIn, totalPurchasePayments
server/storage.ts(4229,5): error TS2741: Property 'lowStockItems' is missing in type '{ warehouseSummary: { first: { totalKg: number; valueUsd: number; count: number; }; final: { totalKg: number; valueUsd: number; count: number; }; }; statusBreakdown: { status: "AWAITING_DECISION" | ... 8 more ... | "AWAITING_FILTER"; count: number; totalKg: number; valueUsd: number; }[]; filterAnalysis: { ...; }; to...' but required in type '{ warehouseSummary: { first: { count: number; totalKg: number; valueUsd: number; }; final: { count: number; totalKg: number; valueUsd: number; }; }; statusBreakdown: { status: string; count: number; totalKg: number; valueUsd: number; }[]; filterAnalysis: { ...; }; topProducts: { ...; }[]; lowStockItems: { ...; }[]; }'.
server/storage.ts(4407,36): error TS2304: Cannot find name 'OrderStatus'.
server/storage.ts(4436,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 6 more ... | "fulfilled"): SQL<...>', gave the following error.
    Argument of type '"completed"' is not assignable to parameter of type 'SQLWrapper | "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(4648,40): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"workflow_validations", { id: PgColumn<{ name: "id"; tableName: "workflow_validations"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 11 more ...; completedAt: PgColumn<......'.
server/storage.ts(4935,7): error TS2740: Type 'Omit<PgSelectBase<"export_history", { id: PgColumn<{ name: "id"; tableName: "export_history"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 12 more ...; completedAt: PgCo...' is missing the following properties from type 'PgSelectBase<"export_history", { id: PgColumn<{ name: "id"; tableName: "export_history"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 12 more ...; completedAt: PgColumn<...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(4982,21): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"export_preferences", { id: PgColumn<{ name: "id"; tableName: "export_preferences"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 8 more ...; updatedAt: PgColumn<...>; }, ....'.
server/storage.ts(5027,7): error TS2740: Type 'Omit<PgSelectBase<"export_jobs", { id: PgColumn<{ name: "id"; tableName: "export_jobs"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 11 more ...; updatedAt: PgColumn<......' is missing the following properties from type 'PgSelectBase<"export_jobs", { id: PgColumn<{ name: "id"; tableName: "export_jobs"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 11 more ...; updatedAt: PgColumn<...>; },...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(5187,36): error TS2551: Property 'createTransporter' does not exist on type '{ default: typeof import("/home/runner/workspace/node_modules/@types/nodemailer/index"); createTransport(transport: SMTPPool | Options, defaults?: Options | undefined): Transporter<...>; createTransport(transport: SendmailTransport | Options, defaults?: Options | undefined): Transporter<...>; createTransport(transpo...'. Did you mean 'createTransport'?
server/storage.ts(5217,7): error TS2740: Type 'Omit<PgSelectBase<"carriers", { id: PgColumn<{ name: "id"; tableName: "carriers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 11 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"carriers", { id: PgColumn<{ name: "id"; tableName: "carriers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, { ...; }>; ... 11 more ...; updatedAt:...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(5221,7): error TS2740: Type 'Omit<PgSelectBase<"carriers", { id: PgColumn<{ name: "id"; tableName: "carriers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 11 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"carriers", { id: PgColumn<{ name: "id"; tableName: "carriers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, { ...; }>; ... 11 more ...; updatedAt:...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(5225,7): error TS2740: Type 'Omit<PgSelectBase<"carriers", { id: PgColumn<{ name: "id"; tableName: "carriers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 11 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"carriers", { id: PgColumn<{ name: "id"; tableName: "carriers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, { ...; }>; ... 11 more ...; updatedAt:...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(5275,58): error TS2339: Property 'name' does not exist on type '{}'.
server/storage.ts(5437,7): error TS2740: Type 'Omit<PgSelectBase<"shipments", { id: PgColumn<{ name: "id"; tableName: "shipments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; updatedAt: PgColumn<...>; }...' is missing the following properties from type 'PgSelectBase<"shipments", { id: PgColumn<{ name: "id"; tableName: "shipments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; updatedAt: PgColumn<...>; }, ......': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(5743,9): error TS2353: Object literal may only specify known properties, and 'exchangeRate' does not exist in type '{ amount: string; type: "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening"; date?: Date | undefined; description?: string | null | undefined; createdBy?: string | null | undefined; reference?: string | ... 1 more ... | undefined; fundingSource?: string | ... 1 more ... | undefined; paymentCurrency?: stri...'.
server/storage.ts(5772,56): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { shipmentId: string | SQL<unknown> | Placeholder<string, any>; timestamp?: Date | SQL<unknown> | Placeholder<string, any> | undefined; status?: SQL<...> | ... 7 more ... | undefined; ... 7 more ...; exceptionDetails?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'string' is not assignable to type 'SQL<unknown> | "pending" | "in_transit" | "delivered" | "failed" | "out_for_delivery" | "returned" | Placeholder<string, any> | undefined'.
  Overload 2 of 2, '(values: { shipmentId: string | SQL<unknown> | Placeholder<string, any>; timestamp?: Date | SQL<unknown> | Placeholder<string, any> | undefined; status?: SQL<...> | ... 7 more ... | undefined; ... 7 more ...; exceptionDetails?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'shipmentId' does not exist in type '{ shipmentId: string | SQL<unknown> | Placeholder<string, any>; timestamp?: Date | SQL<unknown> | Placeholder<string, any> | undefined; status?: SQL<...> | ... 7 more ... | undefined; ... 7 more ...; exceptionDetails?: string | ... 3 more ... | undefined; }[]'.
server/storage.ts(5850,69): error TS2345: Argument of type 'SQL<unknown> | undefined' is not assignable to parameter of type '{ startDate?: string | undefined; endDate?: string | undefined; } | undefined'.
  Type 'SQL<unknown>' has no properties in common with type '{ startDate?: string | undefined; endDate?: string | undefined; }'.
server/storage.ts(5861,7): error TS2739: Type 'any[]' is missing the following properties from type '{ [key: string]: number; legs: number; arrival: number; }': legs, arrival
server/storage.ts(6111,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "quality_grade"; tableName: "warehouse_batches"; dataType: "string"; columnType: "PgEnumColumn"; data: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 5 more ... | "ungraded"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "quality_grade"; tableName: "warehouse_batches"; dataType: "string"; columnType: "PgEnumColumn"; data: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "quality_grade"; tableName: "warehouse_batches"; dataType: "string"; columnType: "PgEnumColumn"; data: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "quality_grade"; tableName: "warehouse_batches"; dataType: "string"; columnType: "PgEnumColumn"; data: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(6182,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<...> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'createdById' does not exist in type '{ supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<unknown> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }'. Did you mean to write 'createdBy'?
  Overload 2 of 2, '(values: { supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<...> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'batchNumber' does not exist in type '{ supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<unknown> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }[]'.
server/storage.ts(6228,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<...> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'createdById' does not exist in type '{ supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<unknown> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }'. Did you mean to write 'createdBy'?
  Overload 2 of 2, '(values: { supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<...> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'batchNumber' does not exist in type '{ supplierId: string | SQL<unknown> | Placeholder<string, any>; orderId: string | SQL<unknown> | Placeholder<string, any>; purchaseId: string | SQL<unknown> | Placeholder<...>; ... 15 more ...; avgDefectRate?: string | ... 3 more ... | undefined; }[]'.
server/storage.ts(6255,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "quality_inspections"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "completed" | "in_progress" | "failed"; ... 9 more ...; generated: undefined; }, {}, {}>, right: "approved" | ... 5 more ... | "failed"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"approved" | SQLWrapper | "pending" | "rejected" | "completed" | "in_progress" | "failed"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "quality_inspections"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "completed" | "in_progress" | "failed"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "quality_inspections"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "completed" | "in_progress" | "failed"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "quality_inspections"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "completed" | "in_progress" | "failed"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(6290,29): error TS2353: Object literal may only specify known properties, and 'updatedAt' does not exist in type '{ inspectedBy?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; inspectionType?: string | ... 2 more ... | undefined; ... 24 more ...; rejectedById?: string | ... 3 more ... | undefined; }'.
server/storage.ts(6307,9): error TS2322: Type 'string' is not assignable to type 'SQL<unknown> | "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | null | undefined'.
server/storage.ts(6340,9): error TS2353: Object literal may only specify known properties, and 'updatedAt' does not exist in type '{ inspectedBy?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; inspectionType?: string | ... 2 more ... | undefined; ... 24 more ...; rejectedById?: string | ... 3 more ... | undefined; }'.
server/storage.ts(6352,9): error TS2322: Type 'string' is not assignable to type 'SQL<unknown> | "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | null | undefined'.
server/storage.ts(6432,32): error TS2551: Property 'warehouseStockId' does not exist on type 'PgTableWithColumns<{ name: "stock_transfers"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, { ...; }>; ... 13 more ...; createdAt: PgCol...'. Did you mean 'toWarehouseStockId'?
server/storage.ts(6541,11): error TS2322: Type 'string' is not assignable to type 'number | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | null | undefined'.
server/storage.ts(6549,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { fifoSequence: number | SQL<unknown> | Placeholder<string, any>; warehouseStockId: string | SQL<unknown> | Placeholder<string, any>; consumptionType: string | ... 1 more ... | Placeholder<...>; ... 12 more ...; consumedAt?: Date | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'createdById' does not exist in type '{ fifoSequence: number | SQL<unknown> | Placeholder<string, any>; warehouseStockId: string | SQL<unknown> | Placeholder<string, any>; consumptionType: string | ... 1 more ... | Placeholder<...>; ... 12 more ...; consumedAt?: Date | ... 2 more ... | undefined; }'.
  Overload 2 of 2, '(values: { fifoSequence: number | SQL<unknown> | Placeholder<string, any>; warehouseStockId: string | SQL<unknown> | Placeholder<string, any>; consumptionType: string | ... 1 more ... | Placeholder<...>; ... 12 more ...; consumedAt?: Date | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'warehouseStockId' does not exist in type '{ fifoSequence: number | SQL<unknown> | Placeholder<string, any>; warehouseStockId: string | SQL<unknown> | Placeholder<string, any>; consumptionType: string | ... 1 more ... | Placeholder<...>; ... 12 more ...; consumedAt?: Date | ... 2 more ... | undefined; }[]'.
server/storage.ts(6642,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "processing_operations"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "completed" | "in_progress" | "planned"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "planned"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "cancelled" | "completed" | "in_progress" | "planned"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "processing_operations"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "completed" | "in_progress" | "planned"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "processing_operations"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "completed" | "in_progress" | "planned"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "processing_operations"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "completed" | "in_progress" | "planned"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(6688,41): error TS2339: Property 'fromWarehouse' does not exist on type 'PgTableWithColumns<{ name: "stock_transfers"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, { ...; }>; ... 13 more ...; createdAt: PgCol...'.
server/storage.ts(6691,41): error TS2339: Property 'toWarehouse' does not exist on type 'PgTableWithColumns<{ name: "stock_transfers"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, { ...; }>; ... 13 more ...; createdAt: PgCol...'.
server/storage.ts(6694,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "in_transit" | "completed"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "completed"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "pending" | "cancelled" | "in_transit" | "completed"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "in_transit" | "completed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "in_transit" | "completed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "stock_transfers"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "in_transit" | "completed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(6715,27): error TS2353: Object literal may only specify known properties, and 'updatedAt' does not exist in type '{ reason?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; quantityKg?: string | SQL<...> | PgColumn<...> | undefined; ... 12 more ...; executedBy?: string | ... 3 more ... | undefined; }'.
server/storage.ts(6729,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "inventory_adjustments"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: "approved" | ... 4 more ... | "escalated"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"approved" | SQLWrapper | "pending" | "rejected" | "cancelled" | "escalated"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "inventory_adjustments"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "inventory_adjustments"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "inventory_adjustments"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(6765,9): error TS2353: Object literal may only specify known properties, and 'rejectionReason' does not exist in type '{ reason?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; createdBy?: string | SQL<...> | PgColumn<...> | undefined; ... 17 more ...; adjustmentDate?: Date | ... 2 more ... | undefined; }'.
server/storage.ts(6939,11): error TS2322: Type 'string' is not assignable to type 'SQL<unknown> | "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | null | undefined'.
server/storage.ts(7110,7): error TS2740: Type 'Omit<PgSelectBase<"customers", { id: PgColumn<{ name: "id"; tableName: "customers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; updatedAt: PgColumn<...>; }...' is missing the following properties from type 'PgSelectBase<"customers", { id: PgColumn<{ name: "id"; tableName: "customers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; updatedAt: PgColumn<...>; }, ......': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(7110,27): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; ... 9 more ...; generated: undefined; }, {}, {}>, right: "export" | ... 5 more ... | "processor"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"export" | SQLWrapper | "retail" | "wholesale" | "domestic" | "distributor" | "processor"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(7113,7): error TS2740: Type 'Omit<PgSelectBase<"customers", { id: PgColumn<{ name: "id"; tableName: "customers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; updatedAt: PgColumn<...>; }...' is missing the following properties from type 'PgSelectBase<"customers", { id: PgColumn<{ name: "id"; tableName: "customers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; updatedAt: PgColumn<...>; }, ......': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(7116,7): error TS2740: Type 'Omit<PgSelectBase<"customers", { id: PgColumn<{ name: "id"; tableName: "customers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; updatedAt: PgColumn<...>; }...' is missing the following properties from type 'PgSelectBase<"customers", { id: PgColumn<{ name: "id"; tableName: "customers"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; updatedAt: PgColumn<...>; }, ......': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(7175,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; ... 9 more ...; generated: undefined; }, {}, {}>, right: "export" | ... 5 more ... | "processor"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"export" | SQLWrapper | "retail" | "wholesale" | "domestic" | "distributor" | "processor"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "customers"; dataType: "string"; columnType: "PgEnumColumn"; data: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(7197,7): error TS2353: Object literal may only specify known properties, and 'totalOrdersCount' does not exist in type 'Partial<{ name: string; currency?: string | undefined; email?: string | null | undefined; isActive?: boolean | undefined; category?: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor" | undefined; ... 22 more ...; tags?: string[] | ... 1 more ... | undefined; }>'.
server/storage.ts(7214,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 6 more ... | "fulfilled"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "sales_orders"; dataType: "string"; columnType: "PgEnumColumn"; data: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(7228,7): error TS2740: Type 'Omit<PgSelectBase<"sales_orders", { id: PgColumn<{ name: "id"; tableName: "sales_orders"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 34 more ...; updatedAt: PgColumn<....' is missing the following properties from type 'PgSelectBase<"sales_orders", { id: PgColumn<{ name: "id"; tableName: "sales_orders"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 34 more ...; updatedAt: PgColumn<...>; ...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(7264,19): error TS2345: Argument of type '{ warehouse: string; status: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | "READY_TO_SHIP" | "NON_CLEAN" | "READY_FOR_SALE" | "AWAITING_FILTER"; ... 22 more ...; gradedAt: Date | null; } | undefined' is not assignable to parameter of type 'SQL<unknown> | PgTable<TableConfig> | Subquery<string, Record<string, unknown>> | PgViewBase<string, boolean, ColumnsSelection>'.
  Type 'undefined' is not assignable to type 'SQL<unknown> | PgTable<TableConfig> | Subquery<string, Record<string, unknown>> | PgViewBase<string, boolean, ColumnsSelection>'.
server/storage.ts(7265,23): error TS18048: 'warehouseStock' is possibly 'undefined'.
server/storage.ts(7265,23): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: Column<ColumnBaseConfig<ColumnDataType, string>, object, object>, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'Column<ColumnBaseConfig<ColumnDataType, string>, object, object>'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'Aliased<string>'.
  Overload 3 of 3, '(left: SQLWrapper, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper'.
server/storage.ts(7266,11): error TS2322: Type '{} | { [x: string]: never; } | { [x: string]: unknown; } | { [x: string]: never; }' is not assignable to type '{ warehouse: string; status: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | "READY_TO_SHIP" | "NON_CLEAN" | "READY_FOR_SALE" | "AWAITING_FILTER"; ... 22 more ...; gradedAt: Date | null; } | undefined'.
  Type '{}' is missing the following properties from type '{ warehouse: string; status: "AWAITING_DECISION" | "FILTERING" | "FILTERED" | "PACKED" | "RESERVED" | "CONSUMED" | "READY_TO_SHIP" | "NON_CLEAN" | "READY_FOR_SALE" | "AWAITING_FILTER"; ... 22 more ...; gradedAt: Date | null; }': warehouse, status, id, createdAt, and 21 more.
server/storage.ts(7282,47): error TS2551: Property 'totalAmount' does not exist on type '{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | null | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }'. Did you mean 'taxAmount'?
server/storage.ts(7298,8): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { totalAmount: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<unknown> | Placeholder<string, any>; salesOrderNumber: string | ... 1 more ... | Placeholder<...>; ... 32 more ...; internalNotes?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ salesOrderNumber: string; status: "draft"; customerId: string; currency?: string | undefined; createdBy?: string | null | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | ... 6 more ... | undefined; ... 17 more ...; internalNotes?: string | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ totalAmount: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<unknown> | Placeholder<string, any>; salesOrderNumber: string | SQL<...> | Placeholder<...>; ... 32 more ...; internalNotes?: string | ... 3 more ... | undefined; }'.
      Type '{ salesOrderNumber: string; status: "draft"; customerId: string; currency?: string | undefined; createdBy?: string | null | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | ... 6 more ... | undefined; ... 17 more ...; internalNotes?: string | ... 1 more ... | undefined; }' is missing the following properties from type '{ totalAmount: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<unknown> | Placeholder<string, any>; salesOrderNumber: string | SQL<...> | Placeholder<...>; ... 32 more ...; internalNotes?: string | ... 3 more ... | undefined; }': totalAmount, totalAmountUsd, balanceDue
  Overload 2 of 2, '(values: { totalAmount: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<unknown> | Placeholder<string, any>; salesOrderNumber: string | ... 1 more ... | Placeholder<...>; ... 32 more ...; internalNotes?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'salesOrderNumber' does not exist in type '{ totalAmount: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<unknown> | Placeholder<string, any>; salesOrderNumber: string | SQL<...> | Placeholder<...>; ... 32 more ...; internalNotes?: string | ... 3 more ... | undefined; }[]'.
server/storage.ts(7339,47): error TS2551: Property 'totalAmount' does not exist on type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'. Did you mean 'taxAmount'?
server/storage.ts(7340,38): error TS2339: Property 'isSignificantSalesOrderChange' does not exist on type 'DatabaseStorage'.
server/storage.ts(7409,7): error TS2353: Object literal may only specify known properties, and 'confirmedAt' does not exist in type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'.
server/storage.ts(7440,91): error TS2551: Property 'quantity' does not exist on type '{ id: string; salesOrderId: string; warehouseStockId: string | null; productDescription: string; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; ... 18 more ...; createdAt: Date | null; }'. Did you mean 'quantityKg'?
server/storage.ts(7477,7): error TS2353: Object literal may only specify known properties, and 'deliveredAt' does not exist in type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'.
server/storage.ts(7503,7): error TS2353: Object literal may only specify known properties, and 'cancelledAt' does not exist in type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'.
server/storage.ts(7524,7): error TS2353: Object literal may only specify known properties, and 'subtotalAmount' does not exist in type 'Partial<{ customerId: string; currency?: string | undefined; status?: "cancelled" | "on_hold" | "delivered" | "draft" | "confirmed" | "in_progress" | "fulfilled" | undefined; createdBy?: string | ... 1 more ... | undefined; ... 19 more ...; internalNotes?: string | ... 1 more ... | undefined; }>'.
server/storage.ts(7546,15): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ quantityKg: string; salesOrderId: string; productDescription: string; unitPriceUsd: string; notes?: string | null | undefined; qualityGrade?: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null | undefined; ... 7 more ...; qualitySpecs?: Json | undefined; }' is not assignable to parameter of type '{ quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }'.
      Type '{ quantityKg: string; salesOrderId: string; productDescription: string; unitPriceUsd: string; notes?: string | null | undefined; qualityGrade?: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null | undefined; ... 7 more ...; qualitySpecs?: Json | undefined; }' is missing the following properties from type '{ quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }': lineTotal, lineTotalUsd
  Overload 2 of 2, '(values: { quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }[]): PgInsertBase<...>', gave the following error.
    Argument of type '{ quantityKg: string; salesOrderId: string; productDescription: string; unitPriceUsd: string; notes?: string | null | undefined; qualityGrade?: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null | undefined; ... 7 more ...; qualitySpecs?: Json | undefined; }' is not assignable to parameter of type '{ quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }[]'.
      Type '{ quantityKg: string; salesOrderId: string; productDescription: string; unitPriceUsd: string; notes?: string | null | undefined; qualityGrade?: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null | undefined; ... 7 more ...; qualitySpecs?: Json | undefined; }' is missing the following properties from type '{ quantityKg: string | SQL<unknown> | Placeholder<string, any>; salesOrderId: string | SQL<unknown> | Placeholder<string, any>; productDescription: string | ... 1 more ... | Placeholder<...>; ... 20 more ...; qualitySpecs?: unknown; }[]': length, pop, push, concat, and 29 more.
server/storage.ts(7594,49): error TS2551: Property 'quantity' does not exist on type '{ id: string; salesOrderId: string; warehouseStockId: string | null; productDescription: string; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; ... 18 more ...; createdAt: Date | null; }'. Did you mean 'quantityKg'?
server/storage.ts(7608,34): error TS2551: Property 'quantity' does not exist on type '{ id: string; salesOrderId: string; warehouseStockId: string | null; productDescription: string; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; ... 18 more ...; createdAt: Date | null; }'. Did you mean 'quantityKg'?
server/storage.ts(7643,39): error TS2551: Property 'unitPrice' does not exist on type '{ id: string; createdAt: Date | null; notes: string | null; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; warehouseStockId: string | null; ... 18 more ...; qualitySpecs: unknown; }'. Did you mean 'unitPriceUsd'?
server/storage.ts(7662,38): error TS2551: Property 'quantity' does not exist on type '{ id: string; createdAt: Date | null; notes: string | null; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; warehouseStockId: string | null; ... 18 more ...; qualitySpecs: unknown; }'. Did you mean 'quantityKg'?
server/storage.ts(7666,34): error TS2339: Property 'unitCost' does not exist on type '{ id: string; createdAt: Date | null; notes: string | null; qualityGrade: "grade_1" | "grade_2" | "grade_3" | "specialty" | "commercial" | "ungraded" | null; warehouseStockId: string | null; ... 18 more ...; qualitySpecs: unknown; }'.
server/storage.ts(7687,7): error TS2740: Type 'Omit<PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(7690,7): error TS2740: Type 'Omit<PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(7690,27): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "sales_returns"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: "approved" | ... 4 more ... | "escalated"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"approved" | SQLWrapper | "pending" | "rejected" | "cancelled" | "escalated"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "sales_returns"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "sales_returns"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "sales_returns"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "pending" | "rejected" | "cancelled" | "escalated"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(7693,7): error TS2740: Type 'Omit<PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(7696,7): error TS2740: Type 'Omit<PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"sales_returns", { id: PgColumn<{ name: "id"; tableName: "sales_returns"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(7821,11): error TS2322: Type '"processed"' is not assignable to type '"approved" | SQL<unknown> | "pending" | "rejected" | "cancelled" | "escalated" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/storage.ts(7974,21): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"customer_communications", { id: PgColumn<{ name: "id"; tableName: "customer_communications"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 15 more ...; createdAt: PgColumn...'.
server/storage.ts(7974,53): error TS2339: Property 'userId' does not exist on type 'PgTableWithColumns<{ name: "customer_communications"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "customer_communications"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 15 more ...; createdAt: PgCo...'.
server/storage.ts(7983,7): error TS2353: Object literal may only specify known properties, and 'completedAt' does not exist in type 'Partial<{ type: string; createdBy: string; customerId: string; content: string; direction: string; status?: "pending" | "completed" | "follow_up_required" | null | undefined; contactPerson?: string | null | undefined; ... 7 more ...; relatedDocuments?: string[] | ... 1 more ... | undefined; }>'.
server/storage.ts(8001,8): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { amount: string | SQL<unknown> | Placeholder<string, any>; type: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ transactionNumber: string; amount: string; type: string; customerId: string; currency?: string | undefined; status?: "pending" | "cancelled" | "confirmed" | "reversed" | undefined; description?: string | ... 1 more ... | undefined; ... 11 more ...; cogs?: string | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
      Property 'amountUsd' is missing in type '{ transactionNumber: string; amount: string; type: string; customerId: string; currency?: string | undefined; status?: "pending" | "cancelled" | "confirmed" | "reversed" | undefined; description?: string | ... 1 more ... | undefined; ... 11 more ...; cogs?: string | ... 1 more ... | undefined; }' but required in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; type: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'transactionNumber' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 21 more ...; grossMarginPercent?: string | ... 3 more ... | undefined; }[]'.
server/storage.ts(8091,7): error TS2322: Type '"approved"' is not assignable to type '"pending" | "cancelled" | "confirmed" | "reversed" | undefined'.
server/storage.ts(8117,7): error TS2353: Object literal may only specify known properties, and 'transactionDate' does not exist in type '{ amount: string; type: string; customerId: string; currency?: string | undefined; status?: "pending" | "cancelled" | "confirmed" | "reversed" | undefined; description?: string | null | undefined; ... 11 more ...; cogs?: string | ... 1 more ... | undefined; }'.
server/storage.ts(8245,15): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }'.
      Property 'availableCredit' is missing in type '{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }' but required in type '{ approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Argument of type '{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }' is not assignable to parameter of type '{ approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }[]'.
      Type '{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }' is missing the following properties from type '{ approvedBy: string | SQL<unknown> | Placeholder<string, any>; creditLimit: string | SQL<unknown> | Placeholder<string, any>; customerId: string | SQL<...> | Placeholder<...>; ... 16 more ...; suspensionReason?: string | ... 3 more ... | undefined; }[]': length, pop, push, concat, and 29 more.
server/storage.ts(8272,7): error TS2353: Object literal may only specify known properties, and 'isSuspended' does not exist in type 'Partial<{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }>'.
server/storage.ts(8283,7): error TS2353: Object literal may only specify known properties, and 'isSuspended' does not exist in type 'Partial<{ approvedBy: string; creditLimit: string; customerId: string; reviewDate: Date; isActive?: boolean | undefined; notes?: string | null | undefined; paymentTerms?: "credit" | "net_15" | ... 5 more ... | undefined; ... 6 more ...; suspensionReason?: string | ... 1 more ... | undefined; }>'.
server/storage.ts(8307,66): error TS2551: Property 'isSuspended' does not exist on type '{ id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; approvedBy: string; notes: string | null; paymentTerms: "credit" | "net_15" | "net_30" | "net_45" | "net_60" | "cash_on_delivery" | "advance_payment"; ... 12 more ...; suspensionReason: string | null; }'. Did you mean 'suspendedAt'?
server/storage.ts(8309,27): error TS2551: Property 'isSuspended' does not exist on type '{ id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; approvedBy: string; notes: string | null; paymentTerms: "credit" | "net_15" | "net_30" | "net_45" | "net_60" | "cash_on_delivery" | "advance_payment"; ... 12 more ...; suspensionReason: string | null; }'. Did you mean 'suspendedAt'?
server/storage.ts(8435,9): error TS2416: Property 'getCustomerProfitabilityAnalysis' in type 'DatabaseStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(customerId?: string | undefined) => Promise<{ customer: { currency: string; name: string; email: string | null; id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; ... 27 more ...; tags: string[] | null; }; ... 6 more ...; lastOrderDate: Date; }[]>' is not assignable to type '{ (periodId?: string | undefined): Promise<{ customerId: string; customerName: string; totalRevenue: number; totalCogs: number; grossMargin: number; grossMarginPercent: number; volumeKg: number; averageSellingPrice: number; profitabilityRank: number; performanceCategory: string; trend: string; }[]>; (customerId?: st...'.
    Type 'Promise<{ customer: { currency: string; name: string; email: string | null; id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; category: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; ... 26 more ...; tags: string[] | null; }; ... 6 more ...; lastOrderDate: ...' is not assignable to type 'Promise<{ customerId: string; customerName: string; totalRevenue: number; totalCogs: number; grossMargin: number; grossMarginPercent: number; volumeKg: number; averageSellingPrice: number; profitabilityRank: number; performanceCategory: string; trend: string; }[]>'.
      Type '{ customer: { currency: string; name: string; email: string | null; id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; category: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; ... 26 more ...; tags: string[] | null; }; ... 6 more ...; lastOrderDate: Date; }[]' is not assignable to type '{ customerId: string; customerName: string; totalRevenue: number; totalCogs: number; grossMargin: number; grossMarginPercent: number; volumeKg: number; averageSellingPrice: number; profitabilityRank: number; performanceCategory: string; trend: string; }[]'.
        Type '{ customer: { currency: string; name: string; email: string | null; id: string; isActive: boolean; createdAt: Date | null; updatedAt: Date | null; category: "export" | "retail" | "wholesale" | "domestic" | "distributor" | "processor"; ... 26 more ...; tags: string[] | null; }; ... 6 more ...; lastOrderDate: Date; }' is missing the following properties from type '{ customerId: string; customerName: string; totalRevenue: number; totalCogs: number; grossMargin: number; grossMarginPercent: number; volumeKg: number; averageSellingPrice: number; profitabilityRank: number; performanceCategory: string; trend: string; }': customerId, customerName, totalCogs, grossMarginPercent, and 5 more.
server/storage.ts(8692,9): error TS2416: Property 'getCashFlowForecast' in type 'DatabaseStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(days: number) => Promise<{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netFlow: number; endingBalance: number; minBalance: number; maxBalance: number; }; }>' is not assignable to type '(days: number) => Promise<{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netCashFlow: number; runwayDays: number; liquidityRatio: number; }; risks: { ...; }[]; }>'.
    Type 'Promise<{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netFlow: number; endingBalance: number; minBalance: number; maxBalance: number; }; }>' is not assignable to type 'Promise<{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netCashFlow: number; runwayDays: number; liquidityRatio: number; }; risks: { ...; }[]; }>'.
      Property 'risks' is missing in type '{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netFlow: number; endingBalance: number; minBalance: number; maxBalance: number; }; }' but required in type '{ projections: { date: string; inflows: number; outflows: number; netFlow: number; cumulativeBalance: number; }[]; summary: { totalInflows: number; totalOutflows: number; netCashFlow: number; runwayDays: number; liquidityRatio: number; }; risks: { ...; }[]; }'.
server/storage.ts(8715,54): error TS2339: Property 'totalCapitalIn' does not exist on type '{ netFlow: number; totalIn: number; totalOut: number; }'.
server/storage.ts(8716,55): error TS2339: Property 'totalPurchasePayments' does not exist on type '{ netFlow: number; totalIn: number; totalOut: number; }'.
server/storage.ts(8825,9): error TS2741: Property 'where' is missing in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"purchases", { supplierId: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "supplier_id"; tableName: "purchases"; dataType: "string"; columnType: "PgVarchar"; da...' but required in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"purchases", { supplierId: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "supplier_id"; tableName: "purchases"; dataType: "string"; columnType: "PgVarchar"; da...'.
server/storage.ts(8863,9): error TS2416: Property 'calculateROIAnalysis' in type 'DatabaseStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(periodId?: string | undefined) => Promise<{ overallROI: { percentage: number; absoluteReturn: number; period: string; }; roiBySupplier: { supplierId: string; supplierName: string; roi: number; investedCapital: number; returns: number; }[]; roiByQualityGrade: { ...; }[]; recommendations: { ...; }[]; }>' is not assignable to type '(periodId?: string | undefined) => Promise<{ overallROI: number; purchaseROI: number; inventoryROI: number; workingCapitalROI: number; roiBySupplier: { supplierId: string; supplierName: string; totalInvestment: number; totalReturn: number; roi: number; roiRank: number; }[]; roiByQualityGrade: { ...; }[]; }>'.
    Type 'Promise<{ overallROI: { percentage: number; absoluteReturn: number; period: string; }; roiBySupplier: { supplierId: string; supplierName: string; roi: number; investedCapital: number; returns: number; }[]; roiByQualityGrade: { ...; }[]; recommendations: { ...; }[]; }>' is not assignable to type 'Promise<{ overallROI: number; purchaseROI: number; inventoryROI: number; workingCapitalROI: number; roiBySupplier: { supplierId: string; supplierName: string; totalInvestment: number; totalReturn: number; roi: number; roiRank: number; }[]; roiByQualityGrade: { ...; }[]; }>'.
      Type '{ overallROI: { percentage: number; absoluteReturn: number; period: string; }; roiBySupplier: { supplierId: string; supplierName: string; roi: number; investedCapital: number; returns: number; }[]; roiByQualityGrade: { ...; }[]; recommendations: { ...; }[]; }' is missing the following properties from type '{ overallROI: number; purchaseROI: number; inventoryROI: number; workingCapitalROI: number; roiBySupplier: { supplierId: string; supplierName: string; totalInvestment: number; totalReturn: number; roi: number; roiRank: number; }[]; roiByQualityGrade: { ...; }[]; }': purchaseROI, inventoryROI, workingCapitalROI
server/storage.ts(8991,9): error TS2416: Property 'calculateBreakEvenAnalysis' in type 'DatabaseStorage' is not assignable to the same property in base type 'IStorage'.
  Type '(periodId?: string | undefined) => Promise<{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; contributionMargin: { amount: number; percentage: number; }; fixedCosts: number; variableCostRatio: number; scenarioAnalysis: { ...; }[]; }>' is not assignable to type '(periodId?: string | undefined) => Promise<{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; marginOfSafetyPercent: number; contributionMargin: number; contributionMarginRatio: number; fixedCosts: number; variableCostRatio: number; }>'.
    Type 'Promise<{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; contributionMargin: { amount: number; percentage: number; }; fixedCosts: number; variableCostRatio: number; scenarioAnalysis: { ...; }[]; }>' is not assignable to type 'Promise<{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; marginOfSafetyPercent: number; contributionMargin: number; contributionMarginRatio: number; fixedCosts: number; variableCostRatio: number; }>'.
      Type '{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; contributionMargin: { amount: number; percentage: number; }; fixedCosts: number; variableCostRatio: number; scenarioAnalysis: { ...; }[]; }' is missing the following properties from type '{ breakEvenRevenue: number; breakEvenUnits: number; marginOfSafety: number; marginOfSafetyPercent: number; contributionMargin: number; contributionMarginRatio: number; fixedCosts: number; variableCostRatio: number; }': marginOfSafetyPercent, contributionMarginRatio
server/storage.ts(9112,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(9147,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(9274,13): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "alert_type"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 7 more ... | "workflow_alert"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "alert_type"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 9 more ...; generated: undefined; }...' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "alert_type"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 9 more ...; generated: undefined; }...' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "alert_type"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "security_alert" | "threshold_alert" | "business_alert" | "system_alert" | "compliance_alert" | "financial_alert" | "operational_alert" | "workflow_alert"; ... 9 more ...; generated: undefined; }...' is not assignable to parameter of type 'never'.
server/storage.ts(9275,13): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "alert_category"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "purchase_order" | "capital_threshold" | "inventory_level" | ... 12 more ... | "currency_fluctuation"; ... 9 more ...; generated: undefined; }, {}, {}>, right: "purchase_order" | ... 15 more ... | "currency_fluctuation"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"purchase_order" | SQLWrapper | "capital_threshold" | "inventory_level" | "sales_order" | "document_expiry" | "approval_workflow" | "financial_health" | "operational_delay" | ... 7 more ... | "currency_fluctuation"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "alert_category"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "purchase_order" | "capital_threshold" | "inventory_level" | ... 12 more ... | "currency_fluctuation"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "alert_category"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "purchase_order" | "capital_threshold" | "inventory_level" | ... 12 more ... | "currency_fluctuation"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "alert_category"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "purchase_order" | "capital_threshold" | "inventory_level" | ... 12 more ... | "currency_fluctuation"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(9276,13): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "channel"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "in_app" | "email" | "sms" | "webhook"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "webhook"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "in_app" | "email" | "sms" | "webhook"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "channel"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "in_app" | "email" | "sms" | "webhook"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "channel"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "in_app" | "email" | "sms" | "webhook"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "channel"; tableName: "notification_templates"; dataType: "string"; columnType: "PgEnumColumn"; data: "in_app" | "email" | "sms" | "webhook"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(9308,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(9347,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(9384,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(9409,9): error TS2740: Type 'Omit<PgSelectBase<"notification_queue", { id: PgColumn<{ name: "id"; tableName: "notification_queue"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"notification_queue", { id: PgColumn<{ name: "id"; tableName: "notification_queue"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; updatedAt: PgColumn<...>; }, ... 5...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(9552,14): error TS2345: Argument of type '{ updatedAt: Date; status: "pending" | "sent" | "failed" | "read" | "dismissed"; id: string; readAt?: string | undefined; dismissedAt?: string | undefined; errorMessage?: string | undefined; }' is not assignable to parameter of type '{ userId?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; message?: string | SQL<unknown> | PgColumn<...> | undefined; ... 32 more ...; deduplicationKey?: string | ... 3 more ... | undefined; }'.
  Types of property 'readAt' are incompatible.
    Type 'string | undefined' is not assignable to type 'Date | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | null | undefined'.
      Type 'string' is not assignable to type 'Date | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | null | undefined'.
server/storage.ts(9633,32): error TS2339: Property 'rowsAffected' does not exist on type 'QueryResult<never>'.
server/storage.ts(9654,32): error TS2339: Property 'rowsAffected' does not exist on type 'QueryResult<never>'.
server/storage.ts(9792,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(9831,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(9868,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(9900,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(9924,9): error TS2740: Type 'Omit<PgSelectBase<"notification_history", { id: PgColumn<{ name: "id"; tableName: "notification_history"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; createdAt: PgColumn<...>;...' is missing the following properties from type 'PgSelectBase<"notification_history", { id: PgColumn<{ name: "id"; tableName: "notification_history"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 33 more ...; createdAt: PgColumn<...>; }, ....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(9993,33): error TS2339: Property 'rowsAffected' does not exist on type 'QueryResult<never>'.
server/storage.ts(10129,32): error TS2339: Property 'rowsAffected' does not exist on type 'QueryResult<never>'.
server/storage.ts(10168,27): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"reverse" | "customer_receipt" | "customer_refund" | "withdrawal" | "reinvest_out" | "transfer_fee" | "reclass"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
      Type '"reverse"' is not assignable to type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<"reverse" | "customer_receipt" | "customer_refund" | "withdrawal" | "reinvest_out" | "transfer_fee" | "reclass">, right: "reverse" | SQLWrapper | ... 5 more ... | "reclass"): SQL<...>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<"reverse" | "customer_receipt" | "customer_refund" | "withdrawal" | "reinvest_out" | "transfer_fee" | "reclass">'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<"reverse" | "customer_receipt" | "customer_refund" | "withdrawal" | "reinvest_out" | "transfer_fee" | "reclass">': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10206,9): error TS2740: Type 'Omit<PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColu...' is missing the following properties from type 'PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColumn<.....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10209,7): error TS2740: Type 'Omit<PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColu...' is missing the following properties from type 'PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColumn<.....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10212,9): error TS2740: Type 'Omit<PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColu...' is missing the following properties from type 'PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColumn<.....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10215,9): error TS2740: Type 'Omit<PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColu...' is missing the following properties from type 'PgSelectBase<"revenue_ledger", { id: PgColumn<{ name: "id"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 20 more ...; createdAt: PgColumn<.....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10254,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'string | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
      Type 'undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'revEntryId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]'.
server/storage.ts(10274,9): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(10278,73): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/storage.ts(10290,9): error TS2322: Type '"customer_receipt"' is not assignable to type '"revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
server/storage.ts(10314,9): error TS2322: Type '"customer_refund"' is not assignable to type '"revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
server/storage.ts(10348,27): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "reversed"): SQL<...>', gave the following error.
    Argument of type '"pending" | "cancelled" | "completed"' is not assignable to parameter of type 'SQLWrapper | "pending" | "cancelled" | "confirmed" | "reversed"'.
      Type '"completed"' is not assignable to type 'SQLWrapper | "pending" | "cancelled" | "confirmed" | "reversed"'.
  Overload 2 of 3, '(left: Aliased<"pending" | "cancelled" | "completed">, right: SQLWrapper | "pending" | "cancelled" | "completed"): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<"pending" | "cancelled" | "completed">'.
      Type 'PgColumn<{ name: "status"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<"pending" | "cancelled" | "completed">': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10374,9): error TS2740: Type 'Omit<PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ... 5...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10377,7): error TS2740: Type 'Omit<PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ... 5...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10380,9): error TS2740: Type 'Omit<PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ... 5...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10383,9): error TS2740: Type 'Omit<PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ...' is missing the following properties from type 'PgSelectBase<"withdrawal_records", { id: PgColumn<{ name: "id"; tableName: "withdrawal_records"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 18 more ...; updatedAt: PgColumn<...>; }, ... 5...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10428,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 16 more ...; note?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'string | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
      Type 'undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 16 more ...; note?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'withdrawalId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; amountUsd: string | SQL<unknown> | Placeholder<...>; ... 16 more ...; note?: string | ... 3 more ... | undefined; }[]'.
server/storage.ts(10438,11): error TS2322: Type '"withdrawal"' is not assignable to type '"revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
server/storage.ts(10449,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'string | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
      Type 'undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'revEntryId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]'.
server/storage.ts(10467,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(10486,11): error TS2322: Type '"cancelled" | "completed"' is not assignable to type 'SQL<unknown> | "pending" | "cancelled" | "confirmed" | "reversed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
  Type '"completed"' is not assignable to type 'SQL<unknown> | "pending" | "cancelled" | "confirmed" | "reversed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/storage.ts(10507,9): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(10527,27): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "reinvestments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 3 more ... | "reversed"): SQL<...>', gave the following error.
    Argument of type '"pending" | "cancelled" | "completed"' is not assignable to parameter of type 'SQLWrapper | "pending" | "cancelled" | "confirmed" | "reversed"'.
      Type '"completed"' is not assignable to type 'SQLWrapper | "pending" | "cancelled" | "confirmed" | "reversed"'.
  Overload 2 of 3, '(left: Aliased<"pending" | "cancelled" | "completed">, right: SQLWrapper | "pending" | "cancelled" | "completed"): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "reinvestments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<"pending" | "cancelled" | "completed">'.
      Type 'PgColumn<{ name: "status"; tableName: "reinvestments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<"pending" | "cancelled" | "completed">': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "reinvestments"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending" | "cancelled" | "confirmed" | "reversed"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10556,9): error TS2740: Type 'Omit<PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10559,7): error TS2740: Type 'Omit<PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10562,9): error TS2740: Type 'Omit<PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10565,9): error TS2740: Type 'Omit<PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn...' is missing the following properties from type 'PgSelectBase<"reinvestments", { id: PgColumn<{ name: "id"; tableName: "reinvestments"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 22 more ...; updatedAt: PgColumn<...>...': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10612,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; reinvestId: string | SQL<unknown> | Placeholder<...>; ... 20 more ...; operatingExpenseId?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'string | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
      Type 'undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; reinvestId: string | SQL<unknown> | Placeholder<...>; ... 20 more ...; operatingExpenseId?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'reinvestId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; createdBy: string | SQL<unknown> | Placeholder<string, any>; reinvestId: string | SQL<unknown> | Placeholder<...>; ... 20 more ...; operatingExpenseId?: string | ... 3 more ... | undefined; }[]'.
server/storage.ts(10637,13): error TS2353: Object literal may only specify known properties, and 'paymentDate' does not exist in type '{ amount: string; description: string; fundingSource: string; paymentMethod: string; categoryId: string; currency?: string | undefined; isApproved?: boolean | undefined; approvedBy?: string | null | undefined; ... 8 more ...; allocationToOrders?: Json | undefined; }'.
server/storage.ts(10662,13): error TS2769: No overload matches this call.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'revEntryId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]'.
server/storage.ts(10679,15): error TS2769: No overload matches this call.
  Overload 2 of 2, '(values: { amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'revEntryId' does not exist in type '{ amount: string | SQL<unknown> | Placeholder<string, any>; type: SQL<unknown> | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal" | Placeholder<string, any>; ... 19 more ...; periodClosed?: boolean | ... 2 more ... | undefined; }[]'.
server/storage.ts(10703,11): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(10722,11): error TS2322: Type '"cancelled" | "completed"' is not assignable to type 'SQL<unknown> | "pending" | "cancelled" | "confirmed" | "reversed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
  Type '"completed"' is not assignable to type 'SQL<unknown> | "pending" | "cancelled" | "confirmed" | "reversed" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined'.
server/storage.ts(10743,9): error TS2554: Expected 5-9 arguments, but got 10.
server/storage.ts(10778,11): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_receipt"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10779,11): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_refund"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10783,23): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"revenue_ledger", { total: SQL<string>; }, "partial", Record<"revenue_ledger", "not-null">, false, "where", { total: string; }[], { total: DrizzleTypeError<"You cannot reference this field without assigning it an alias first - use `.as(<alias>)`">; }>, "where">'.
server/storage.ts(10785,13): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_receipt"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10786,13): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_refund"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10811,33): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_receipt"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10819,33): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"customer_refund"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10827,33): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"withdrawal"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10835,33): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"reinvest_out"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10843,33): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 4 more ... | "reversal"): SQL<...>', gave the following error.
    Argument of type '"transfer_fee"' is not assignable to parameter of type 'SQLWrapper | "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "type"; tableName: "revenue_ledger"; dataType: "string"; columnType: "PgEnumColumn"; data: "revenue_in" | "revenue_out" | "transfer" | "adjustment" | "reversal"; driverParam: string; ... 8 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(10906,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10910,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(10943,7): error TS2739: Type '{ metadata: { id: string; createdAt: Date | null; updatedAt: Date | null; createdBy: string | null; documentId: string; metadataKey: string; metadataValue: string | null; metadataType: string; isRequired: boolean; isSearchable: boolean; }[]; ... 43 more ...; archivedAt: Date | null; }' is missing the following properties from type 'DocumentWithMetadata': canEdit, canDelete, canDownload
server/storage.ts(10993,33): error TS2353: Object literal may only specify known properties, and 'updatedAt' does not exist in type '{ category?: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "regulation_document" | ... 6 more ... | undefined; ... 41 more ...; archivedAt?: Date | ... 3 more ... | undefined; }'.
server/storage.ts(11067,25): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 9 more ...; generated: undefined; }, {}, {}>, right: "invoice" | ... 13 more ... | "permit"): SQL<...>', gave the following error.
    Argument of type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_report" | "insurance_document" | "tax_document" | "regulation_document"' is not assignable to parameter of type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "regulation_document" | ... 4 more ... | "permit"'.
      Type '"audit_report"' is not assignable to type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "regulation_document" | ... 4 more ... | "permit"'.
  Overload 2 of 3, '(left: Aliased<"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_report" | "insurance_document" | "tax_document" | "regulation_document">, right: "invoice" | ... 12 more ... | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_report" | "insurance_document" | "tax_document" | "regulation_document">'.
      Type 'PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_report" | "insurance_document" | "tax_document" | "regulation_document">': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(11071,25): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "rejected" | "draft" | "pending_review"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>, right: "approved" | ... 3 more ... | "pending_review"): SQL<...>', gave the following error.
    Argument of type '"approved" | "rejected" | "cancelled" | "draft" | "expired" | "final" | "under_review" | "archived"' is not assignable to parameter of type '"approved" | SQLWrapper | "rejected" | "draft" | "pending_review"'.
      Type '"cancelled"' is not assignable to type '"approved" | SQLWrapper | "rejected" | "draft" | "pending_review"'.
  Overload 2 of 3, '(left: Aliased<"approved" | "rejected" | "cancelled" | "draft" | "expired" | "final" | "under_review" | "archived">, right: "approved" | SQLWrapper | "rejected" | ... 5 more ... | "archived"): SQL<...>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "rejected" | "draft" | "pending_review"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<"approved" | "rejected" | "cancelled" | "draft" | "expired" | "final" | "under_review" | "archived">'.
      Type 'PgColumn<{ name: "status"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "rejected" | "draft" | "pending_review"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<"approved" | "rejected" | "cancelled" | "draft" | "expired" | "final" | "under_review" | "archived">': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "approved" | "rejected" | "draft" | "pending_review"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(11075,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(11090,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(11094,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(11111,7): error TS2741: Property 'pageSize' is missing in type '{ documents: { metadata: never[]; compliance: never[]; currentVersionInfo: undefined; accessLevel: "internal"; canEdit: boolean; canDelete: boolean; canDownload: boolean; id: string; documentNumber: string; ... 39 more ...; archivedAt: Date | null; }[]; total: number; page: number; totalPages: number; }' but required in type 'DocumentSearchResponse'.
server/storage.ts(11119,7): error TS2741: Property 'pageSize' is missing in type '{ documents: never[]; total: number; page: number; totalPages: number; }' but required in type 'DocumentSearchResponse'.
server/storage.ts(11135,16): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 9 more ...; generated: undefined; }, {}, {}>, right: "invoice" | ... 13 more ... | "permit"): SQL<...>', gave the following error.
    Argument of type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_report" | "insurance_document" | "tax_document" | "regulation_document"' is not assignable to parameter of type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "regulation_document" | ... 4 more ... | "permit"'.
      Type '"audit_report"' is not assignable to type '"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "regulation_document" | ... 4 more ... | "permit"'.
  Overload 2 of 3, '(left: Aliased<"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_report" | "insurance_document" | "tax_document" | "regulation_document">, right: "invoice" | ... 12 more ... | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_report" | "insurance_document" | "tax_document" | "regulation_document">'.
      Type 'PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<"invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | "shipping_document" | "quality_report" | "financial_statement" | "audit_report" | "insurance_document" | "tax_document" | "regulation_document">': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "category"; tableName: "documents"; dataType: "string"; columnType: "PgEnumColumn"; data: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(11138,18): error TS2741: Property 'limit' is missing in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"documents", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; drive...' but required in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"documents", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; drive...'.
server/storage.ts(11139,19): error TS2741: Property 'offset' is missing in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"documents", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; drive...' but required in type 'Omit<import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"documents", { id: import("/home/runner/workspace/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; drive...'.
server/storage.ts(11217,9): error TS2322: Type '{ status: "approved" | "rejected" | "draft" | "pending_review"; id: string; createdAt: Date | null; description: string | null; category: "invoice" | "contract" | "compliance_record" | ... 10 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; } | undefined' is not assignable to type '{ status: "approved" | "rejected" | "draft" | "pending_review"; id: string; createdAt: Date | null; description: string | null; category: "invoice" | "contract" | "compliance_record" | ... 10 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }'.
  Type 'undefined' is not assignable to type '{ status: "approved" | "rejected" | "draft" | "pending_review"; id: string; createdAt: Date | null; description: string | null; category: "invoice" | "contract" | "compliance_record" | ... 10 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }'.
server/storage.ts(11222,59): error TS2339: Property 'updatedAt' does not exist on type '{ status: "approved" | "rejected" | "draft" | "pending_review"; id: string; createdAt: Date | null; description: string | null; category: "invoice" | "contract" | "compliance_record" | ... 10 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }'.
server/storage.ts(11274,11): error TS2353: Object literal may only specify known properties, and 'status' does not exist in type '{ version?: number | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; createdBy?: string | SQL<...> | PgColumn<...> | undefined; ... 19 more ...; supersededAt?: Date | ... 3 more ... | undefined; }'.
server/storage.ts(11647,7): error TS2322: Type '{ id: string; documentId: string; documentTitle: string; alertType: string; alertCategory: string; priority: "critical" | "low" | "medium" | "high"; title: string; message: string; complianceType: string; ... 7 more ...; updatedAt: Date; }[]' is not assignable to type 'ComplianceAlert[]'.
  Property 'requirementName' is missing in type '{ id: string; documentId: string; documentTitle: string; alertType: string; alertCategory: string; priority: "critical" | "low" | "medium" | "high"; title: string; message: string; complianceType: string; ... 7 more ...; updatedAt: Date; }' but required in type 'ComplianceAlert'.
server/storage.ts(11694,7): error TS2322: Type '{ id: string; documentId: string; documentTitle: string; alertType: string; alertCategory: string; priority: "critical"; title: string; message: string; complianceType: string; expiryDate: Date | null; ... 6 more ...; updatedAt: Date; }[]' is not assignable to type 'ComplianceAlert[]'.
  Property 'requirementName' is missing in type '{ id: string; documentId: string; documentTitle: string; alertType: string; alertCategory: string; priority: "critical"; title: string; message: string; complianceType: string; expiryDate: Date | null; ... 6 more ...; updatedAt: Date; }' but required in type 'ComplianceAlert'.
server/storage.ts(11724,16): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 5 more ... | "renewal_required"): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'SQLWrapper | "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(11742,11): error TS2322: Type 'string' is not assignable to type 'SQL<unknown> | "pending_review" | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined'.
server/storage.ts(11779,16): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>, right: SQLWrapper | ... 5 more ... | "renewal_required"): SQL<...>', gave the following error.
    Argument of type '"active"' is not assignable to parameter of type 'SQLWrapper | "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "status"; tableName: "document_compliance"; dataType: "string"; columnType: "PgEnumColumn"; data: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"; ... 9 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/storage.ts(11808,11): error TS2353: Object literal may only specify known properties, and 'active' does not exist in type '{ total: number; compliant: number; nonCompliant: number; expiringSoon: number; expired: number; pendingReview: number; }'.
server/storage.ts(11818,64): error TS2339: Property 'renewalRequired' does not exist on type 'ComplianceAlert'.
server/storage.ts(11855,43): error TS2339: Property 'renewalRequired' does not exist on type 'ComplianceAlert'.
server/storage.ts(11909,20): error TS2339: Property 'complianceType' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'.
server/storage.ts(11910,47): error TS2551: Property 'complianceType' does not exist on type 'PgTableWithColumns<{ name: "document_compliance"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "document_compliance"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; ... 8 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; updatedAt: PgColumn<......'. Did you mean 'complianceDate'?
server/storage.ts(11910,71): error TS2339: Property 'complianceType' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'.
server/storage.ts(11913,20): error TS2551: Property 'expiryDateFrom' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'. Did you mean 'expiryFrom'?
server/storage.ts(11914,77): error TS2551: Property 'expiryDateFrom' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'. Did you mean 'expiryFrom'?
server/storage.ts(11917,20): error TS2551: Property 'expiryDateTo' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'. Did you mean 'expiryTo'?
server/storage.ts(11918,77): error TS2551: Property 'expiryDateTo' does not exist on type '{ limit: number; offset: number; status?: "pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required" | undefined; requirementType?: string | undefined; expiryFrom?: string | undefined; expiryTo?: string | undefined; renewalFrom?: string | undefined; renewalTo?: string | undef...'. Did you mean 'expiryTo'?
server/storage.ts(11922,9): error TS2740: Type 'Omit<PgSelectBase<"document_compliance", { id: PgColumn<{ name: "id"; tableName: "document_compliance"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; updatedAt: PgColumn<...>; }...' is missing the following properties from type 'PgSelectBase<"document_compliance", { id: PgColumn<{ name: "id"; tableName: "document_compliance"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 28 more ...; updatedAt: PgColumn<...>; }, ......': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(11929,40): error TS2367: This comparison appears to be unintentional because the types '"pending_review" | "compliant" | "non_compliant" | "expiring_soon" | "expired" | "renewal_required"' and '"active"' have no overlap.
server/storage.ts(11996,23): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"document_access_logs", { id: PgColumn<{ name: "id"; tableName: "document_access_logs"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, { ...; }>; ... 16 more ...; sessionDuration: PgColumn...'.
server/storage.ts(12052,23): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<"document_access_logs", { documentId: PgColumn<{ name: "document_id"; tableName: "document_access_logs"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, { ...; }>; ... 5 more ...; firstAccess: SQL<...>; }, ....'.
server/storage.ts(12091,7): error TS2322: Type '{ documentId: string; documentTitle: string; userId: string | null; userName: string; accessPattern: string; riskLevel: "critical" | "low" | "medium" | "high"; details: string; }[]' is not assignable to type '{ documentId: string; documentTitle: string; userId: string; userName: string; accessPattern: string; riskLevel: "critical" | "low" | "medium" | "high"; details: string; }[]'.
  Type '{ documentId: string; documentTitle: string; userId: string | null; userName: string; accessPattern: string; riskLevel: "critical" | "low" | "medium" | "high"; details: string; }' is not assignable to type '{ documentId: string; documentTitle: string; userId: string; userName: string; accessPattern: string; riskLevel: "critical" | "low" | "medium" | "high"; details: string; }'.
    Types of property 'userId' are incompatible.
      Type 'string | null' is not assignable to type 'string'.
        Type 'null' is not assignable to type 'string'.
server/storage.ts(12175,11): error TS2353: Object literal may only specify known properties, and 'status' does not exist in type '{ documentId?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; workflowType?: string | SQL<...> | PgColumn<...> | undefined; ... 16 more ...; nextStateId?: string | ... 3 more ... | undefined; }'.
server/storage.ts(12207,9): error TS2740: Type 'Omit<PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; ...' is missing the following properties from type 'PgSelectBase<"documents", { id: PgColumn<{ name: "id"; tableName: "documents"; dataType: "string"; columnType: "PgVarchar"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; ... 5 more ...; generated: undefined; }, {}, { ...; }>; ... 41 more ...; archivedAt: PgColumn<...>; }, .....': config, joinsNotNullableMap, tableName, isPartialSelect, and 5 more.
server/storage.ts(12253,9): error TS2353: Object literal may only specify known properties, and 'summary' does not exist in type 'DocumentAnalytics'.
server/storage.ts(12338,48): error TS18047: 'doc.createdAt' is possibly 'null'.
server/storage.ts(12343,18): error TS2339: Property 'updatedAt' does not exist on type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }'.
server/storage.ts(12344,53): error TS2339: Property 'updatedAt' does not exist on type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }'.
server/storage.ts(12403,9): error TS2322: Type '{ userId: string | null; userName: string; activityCount: number; }[]' is not assignable to type '{ userId: string; userName: string; activityCount: number; }[]'.
  Type '{ userId: string | null; userName: string; activityCount: number; }' is not assignable to type '{ userId: string; userName: string; activityCount: number; }'.
    Types of property 'userId' are incompatible.
      Type 'string | null' is not assignable to type 'string'.
        Type 'null' is not assignable to type 'string'.
server/storage.ts(12454,7): error TS2322: Type '{ documentId: string; documentTitle: string; action: string; userName: string; userRole: string; timestamp: Date; details: string | null; }[]' is not assignable to type '{ documentId: string; documentTitle: string; action: string; userName: string; userRole: string; timestamp: Date; details?: string | undefined; }[]'.
  Type '{ documentId: string; documentTitle: string; action: string; userName: string; userRole: string; timestamp: Date; details: string | null; }' is not assignable to type '{ documentId: string; documentTitle: string; action: string; userName: string; userRole: string; timestamp: Date; details?: string | undefined; }'.
    Types of property 'details' are incompatible.
      Type 'string | null' is not assignable to type 'string | undefined'.
        Type 'null' is not assignable to type 'string | undefined'.
server/storage.ts(12584,9): error TS18047: 'doc.createdAt' is possibly 'null'.
server/storage.ts(12584,9): error TS2769: No overload matches this call.
  Overload 1 of 3, '(callbackfn: (previousValue: { id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }, currentValue: { ...; }, currentIndex: number, array: { ...; }[]) => { ...; }, initialValue: { ...; }): { ...; }', gave the following error.
    Type 'Date | null' is not assignable to type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }'.
      Type 'null' is not assignable to type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }'.
  Overload 2 of 3, '(callbackfn: (previousValue: Date, currentValue: { id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | ... 9 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }, currentIndex: number, array: { ...; }[]) => Date, initialValue: Date): Date', gave the following error.
    Type 'Date | null' is not assignable to type 'Date'.
      Type 'null' is not assignable to type 'Date'.
server/storage.ts(12589,9): error TS18047: 'doc.createdAt' is possibly 'null'.
server/storage.ts(12589,9): error TS2769: No overload matches this call.
  Overload 1 of 3, '(callbackfn: (previousValue: { id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }, currentValue: { ...; }, currentIndex: number, array: { ...; }[]) => { ...; }, initialValue: { ...; }): { ...; }', gave the following error.
    Type 'Date | null' is not assignable to type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }'.
      Type 'null' is not assignable to type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }'.
  Overload 2 of 3, '(callbackfn: (previousValue: Date, currentValue: { id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | ... 9 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }, currentIndex: number, array: { ...; }[]) => Date, initialValue: Date): Date', gave the following error.
    Type 'Date | null' is not assignable to type 'Date'.
      Type 'null' is not assignable to type 'Date'.
server/storage.ts(12602,9): error TS2740: Type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }' is missing the following properties from type 'Date': toDateString, toTimeString, toLocaleDateString, toLocaleTimeString, and 37 more.
server/storage.ts(12603,9): error TS2740: Type '{ id: string; documentNumber: string; title: string; description: string | null; category: "invoice" | "contract" | "compliance_record" | "certificate" | "receipt" | "purchase_order" | ... 7 more ... | "permit"; ... 37 more ...; archivedAt: Date | null; }' is missing the following properties from type 'Date': toDateString, toTimeString, toLocaleDateString, toLocaleTimeString, and 37 more.
server/storage.ts(12644,36): error TS2345: Argument of type '{ metadata: { id: string; createdAt: Date | null; updatedAt: Date | null; createdBy: string | null; documentId: string; metadataKey: string; metadataValue: string | null; metadataType: string; isRequired: boolean; isSearchable: boolean; }[]; ... 43 more ...; archivedAt: Date | null; } | { ...; }' is not assignable to parameter of type 'DocumentWithMetadata'.
  Type '{ metadata: { id: string; createdAt: Date | null; updatedAt: Date | null; createdBy: string | null; documentId: string; metadataKey: string; metadataValue: string | null; metadataType: string; isRequired: boolean; isSearchable: boolean; }[]; ... 43 more ...; archivedAt: Date | null; }' is missing the following properties from type 'DocumentWithMetadata': canEdit, canDelete, canDownload
server/storage.ts(12738,60): error TS2322: Type 'string' is not assignable to type '"approved" | "rejected" | "draft" | "pending_review" | undefined'.
server/storage.ts(12768,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { category: SQL<unknown> | "other" | "wages" | "rent" | "utilities" | "supplies" | "transfer_fees" | Placeholder<string, any>; categoryName: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; allocationMethod?: string | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ categoryName: string; description: string; isActive: true; }' is not assignable to parameter of type '{ category: SQL<unknown> | "other" | "wages" | "rent" | "utilities" | "supplies" | "transfer_fees" | Placeholder<string, any>; categoryName: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; allocationMethod?: string | ... 2 more ... | undefined; }'.
      Property 'category' is missing in type '{ categoryName: string; description: string; isActive: true; }' but required in type '{ category: SQL<unknown> | "other" | "wages" | "rent" | "utilities" | "supplies" | "transfer_fees" | Placeholder<string, any>; categoryName: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; allocationMethod?: string | ... 2 more ... | undefined; }'.
  Overload 2 of 2, '(values: { category: SQL<unknown> | "other" | "wages" | "rent" | "utilities" | "supplies" | "transfer_fees" | Placeholder<string, any>; categoryName: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; allocationMethod?: string | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'categoryName' does not exist in type '{ category: SQL<unknown> | "other" | "wages" | "rent" | "utilities" | "supplies" | "transfer_fees" | Placeholder<string, any>; categoryName: string | SQL<unknown> | Placeholder<...>; ... 6 more ...; allocationMethod?: string | ... 2 more ... | undefined; }[]'.
server/supplyInventoryService.ts(149,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { supplierId: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<unknown> | Placeholder<string, any>; purchaseNumber: string | ... 1 more ... | Placeholder<...>; ... 15 more ...; receivedDate?: Date | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ purchaseNumber: string; supplierId: string; supplyInventoryId: string; quantity: string; unitPrice: string; totalAmount: string; currency: string; exchangeRate: string; amountUsd: string; ... 4 more ...; createdBy: string; }' is not assignable to parameter of type '{ supplierId: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<unknown> | Placeholder<string, any>; purchaseNumber: string | SQL<...> | Placeholder<...>; ... 15 more ...; receivedDate?: Date | ... 3 more ... | undefined; }'.
      Property 'supplyId' is missing in type '{ purchaseNumber: string; supplierId: string; supplyInventoryId: string; quantity: string; unitPrice: string; totalAmount: string; currency: string; exchangeRate: string; amountUsd: string; ... 4 more ...; createdBy: string; }' but required in type '{ supplierId: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<unknown> | Placeholder<string, any>; purchaseNumber: string | SQL<...> | Placeholder<...>; ... 15 more ...; receivedDate?: Date | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { supplierId: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<unknown> | Placeholder<string, any>; purchaseNumber: string | ... 1 more ... | Placeholder<...>; ... 15 more ...; receivedDate?: Date | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'purchaseNumber' does not exist in type '{ supplierId: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<unknown> | Placeholder<string, any>; purchaseNumber: string | SQL<...> | Placeholder<...>; ... 15 more ...; receivedDate?: Date | ... 3 more ... | undefined; }[]'.
server/supplyInventoryService.ts(198,12): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'validatedBy' does not exist in type '{ type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }'. Did you mean to write 'isValidated'?
  Overload 2 of 2, '(values: { type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'entryId' does not exist in type '{ type: SQL<unknown> | "CapitalIn" | "CapitalOut" | "Reverse" | "Reclass" | "Opening" | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; ... 10 more ...; isValidated?: boolean | ... 2 more ... | undefined; }[]'.
server/supplyInventoryService.ts(217,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'expenseType' does not exist in type '{ description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }'. Did you mean to write 'expenseDate'?
  Overload 2 of 2, '(values: { description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'expenseNumber' does not exist in type '{ description: string | SQL<unknown> | Placeholder<string, any>; amount: string | SQL<unknown> | Placeholder<string, any>; fundingSource: string | SQL<...> | Placeholder<...>; ... 20 more ...; allocationToOrders?: unknown; }[]'.
server/userWarehouseScopesService.ts(184,9): error TS2322: Type '"warehouse_access"' is not assignable to type '"purchase_order" | "capital_threshold" | "inventory_level" | "sales_order" | "document_expiry" | "approval_workflow" | "financial_health" | "operational_delay" | "compliance_issue" | ... 6 more ... | "currency_fluctuation"'.
server/userWarehouseScopesService.ts(252,9): error TS2322: Type '"warehouse_access"' is not assignable to type '"purchase_order" | "capital_threshold" | "inventory_level" | "sales_order" | "document_expiry" | "approval_workflow" | "financial_health" | "operational_delay" | "compliance_issue" | ... 6 more ... | "currency_fluctuation"'.
server/userWarehouseScopesService.ts(315,136): error TS2345: Argument of type '"finance" | "purchasing" | "warehouse" | "sales" | "worker"' is not assignable to parameter of type '"admin" | "finance" | "purchasing" | "warehouse" | "sales"'.
  Type '"worker"' is not assignable to type '"admin" | "finance" | "purchasing" | "warehouse" | "sales"'.
server/userWarehouseScopesService.ts(319,30): error TS2367: This comparison appears to be unintentional because the types '"finance" | "purchasing" | "warehouse" | "sales" | "worker"' and '"admin"' have no overlap.
server/warehouseEnhancementService.ts(220,53): error TS2345: Argument of type '{ supplierId: string; supplierName: string; inputKg: string; outputCleanKg: string; outputNonCleanKg: string; filterYield: string; createdAt: Date | null; }' is not assignable to parameter of type 'FilteringDataRecord'.
  Types of property 'createdAt' are incompatible.
    Type 'Date | null' is not assignable to type 'Date'.
      Type 'null' is not assignable to type 'Date'.
Exit code: 1
