Verify All Required Fields & Data Points (Stages 1–10)

Hello,

Please cross-check the implementation against the attached field checklist. We need to confirm that every single required field and data point from workflow_reference.json is:

Present in the database schema

Available in the API endpoints

Visible/usable in the UI forms and reports

Covered by tests

This verification must cover all 10 workflow stages.

⚠️ Important:
Do not skip any field, even small ones like carton count, weight variations, or notes. Every detail in the checklist must be confirmed and tested. If something is missing, please implement it immediately.

📊 Stage-by-Stage Field Checklist
Stage 1 — Working Capital
Field	Implemented?	Notes
Entry ID	✅	Auto CAP- prefix
Date	✅	Default now()
Amount (USD)	✅	Precision 12,2
Type (In/Out/Reverse/Reclass/Opening)	✅	All types
Currency (USD/ETB)	✅	Auto FX
Historical FX	✅	Stored from Settings
Opening Balance	✅	Optional
Reference Links	✅	order/purchase/shipping/expense
Description/Note	✅	Optional
Stage 2 — Purchases
Field	Implemented?	Notes
Supplier ID	✅	FK to suppliers
Weight (kg)	✅	Precision 10,2
Price/kg	✅	Per kg pricing
Total Cost	✅	Auto calc
Currency + FX	✅	Central FX only
Payment Method	✅	Cash/Advance/Credit
Advance + Settlement	✅	Complete
Funding Source	✅	Auto CapitalOut
Stage 3 — Warehouse
Field	Implemented?	Notes
Stock Status	✅	All statuses
Total Qty (kg)	✅	qtyKgTotal
Clean Qty	✅	qtyKgClean
Non-Clean Qty	✅	qtyKgNonClean
Reserved Qty	✅	qtyKgReserved
Unit Cost (USD)	✅	Clean stock cost basis
Filter Yield & Cost	✅	Reallocation logic
FIRST/FINAL	✅	Warehouse types
Stage 4 — Shipping
Field	Implemented?	Notes
Order ID, Shipment ID	✅	Linked
Carrier	✅	Profiles with ratings
Dates (departure/arrival)	✅	Complete
Weights (net/gross/carton/chargeable)	✅	Validations
Cartons Count	✅	Pipeline tracked
Rate/kg & Commission	✅	Formula implemented
Leg Total Cost	✅	Base + commission
Arrival Costs	✅	Broker, handling, delivery
Inspection Data	✅	Damage + grade
Landed Cost	✅	Full calculation
Stage 5 — Operating Expenses
Field	Implemented?	Notes
Expense Type	✅	Labor, rent, supplies
Amount + Currency	✅	FX enforced
Funding Source	✅	Capital/External
Supplies Purchase	✅	supplies/supplyPurchases
Supplies Consumption	✅	Deducts stock, allocates cost
Stage 6 — Sales
Field	Implemented?	Notes
Customer ID / Type	✅	Wholesale/Retail
Invoice ID	✅	Sequential
Source Warehouse	✅	FIRST/FINAL rule
Product Unit	✅	8kg/20kg
Price + Total	✅	Multi-currency
Paid vs Balance	✅	A/R
Returns	✅	Original warehouse
Stage 7 — Revenues
Field	Implemented?	Notes
Ledger Entries	✅	All types covered
Accounting vs Withdrawable	✅	Dual balance
Partner Withdrawals	✅	With approvals
Reinvestment Flows	✅	Triple entry
Stage 8 — Users & Permissions
Field	Implemented?	Notes
Roles	✅	7 roles
Multi-role	✅	Supported
Warehouse Scoping	✅	userWarehouseScopes
Sensitive Change Policies	✅	Thresholds + approvals
Visibility Controls	✅	Hide costs/margins
Stage 9 — Reports & KPIs
Field	Implemented?	Notes
Capital Movement	✅	Implemented
Supplier Reports	✅	Quality/performance
Warehouse Stock	✅	Inventory analytics
Shipping Leg	✅	Multi-leg
Sales & Revenue Reports	✅	Complete
KPIs	✅	Avg cost, DSO, margins
Exports	✅	CSV/XLSX/PDF
Stage 10 — Settings
Field	Implemented?	Notes
Base & Secondary Currency	✅	USD/ETB
Timezone, Start Date	✅	Configurable
Central FX Rate	✅	Historical log
Numbering Schemes	✅	Prefix, year, sequence
Period Close Guard	✅	Admin-only
Approval Thresholds	✅	Middleware enforced

✅ Action Required:
Go through each stage with this checklist. Confirm every field is present and working in DB + API + UI + tests. If anything is missing, please fix it immediately.